<!DOCTYPE html><html lang="en-US"><head><title>F♯ Training • Types</title><meta property="og:title" content="F♯ Training • Types"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{appearance:none;background-color:initial;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear;-webkit-tap-highlight-color:transparent}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:#0000 url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{background:#000000a6;border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1;view-transition-name:__bespoke_marp_transition_osc__}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:#0000}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:#0000;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:#000000a6;border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;white-space:pre-wrap;width:calc(100% - 40px);word-wrap:break-word;scrollbar-color:#eeeeee80 #0000;scrollbar-width:thin}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:#0000}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:#eeeeee80;border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@charset "UTF-8";@import "https://fonts.bunny.net/css?family=Lato:400,900|Roboto+Mono:400,700&display=swap";@import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap");div#\:\$p > svg > foreignObject > section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center;-webkit-text-size-adjust:100%;text-size-adjust:100%}div#\:\$p > svg > foreignObject > section::after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p > svg > foreignObject > section:not([data-marpit-pagination])::after{display:none}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1){font-size:2em;margin:0.67em 0}div#\:\$p > svg > foreignObject > section video::-webkit-media-controls{will-change:transform}@page {size:1280px 720px;margin:0}@media print{html, body{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p > svg > foreignObject > section{page-break-before:always;break-before:page}div#\:\$p > svg > foreignObject > section, div#\:\$p > svg > foreignObject > section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#\:\$p > svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}/*!
 * Marp / Marpit Gaia theme.
 *
 * @theme gaia
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#\:\$p > svg > foreignObject > section :is(pre, marp-pre) code.hljs{display:block;overflow-x:auto;padding:1em}div#\:\$p > svg > foreignObject > section code.hljs{padding:3px 5px}div#\:\$p > svg > foreignObject > section .hljs{background:#000;color:#f8f8f8}div#\:\$p > svg > foreignObject > section .hljs-comment,div#\:\$p > svg > foreignObject > section .hljs-quote{color:#aeaeae;font-style:italic}div#\:\$p > svg > foreignObject > section .hljs-keyword,div#\:\$p > svg > foreignObject > section .hljs-selector-tag,div#\:\$p > svg > foreignObject > section .hljs-type{color:#e28964}div#\:\$p > svg > foreignObject > section .hljs-string{color:#65b042}div#\:\$p > svg > foreignObject > section .hljs-subst{color:#daefa3}div#\:\$p > svg > foreignObject > section .hljs-link,div#\:\$p > svg > foreignObject > section .hljs-regexp{color:#e9c062}div#\:\$p > svg > foreignObject > section .hljs-name,div#\:\$p > svg > foreignObject > section .hljs-section,div#\:\$p > svg > foreignObject > section .hljs-tag,div#\:\$p > svg > foreignObject > section .hljs-title{color:#89bdff}div#\:\$p > svg > foreignObject > section .hljs-class .hljs-title,div#\:\$p > svg > foreignObject > section .hljs-doctag,div#\:\$p > svg > foreignObject > section .hljs-title.class_{text-decoration:underline}div#\:\$p > svg > foreignObject > section .hljs-bullet,div#\:\$p > svg > foreignObject > section .hljs-number,div#\:\$p > svg > foreignObject > section .hljs-symbol{color:#3387cc}div#\:\$p > svg > foreignObject > section .hljs-params,div#\:\$p > svg > foreignObject > section .hljs-template-variable,div#\:\$p > svg > foreignObject > section .hljs-variable{color:#3e87e3}div#\:\$p > svg > foreignObject > section .hljs-attribute{color:#cda869}div#\:\$p > svg > foreignObject > section .hljs-meta{color:#8996a8}div#\:\$p > svg > foreignObject > section .hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}div#\:\$p > svg > foreignObject > section .hljs-addition{background-color:#253b22;color:#f8f8f8}div#\:\$p > svg > foreignObject > section .hljs-deletion{background-color:#420e09;color:#f8f8f8}div#\:\$p > svg > foreignObject > section .hljs-selector-class{color:#9b703f}div#\:\$p > svg > foreignObject > section .hljs-selector-id{color:#8b98ab}div#\:\$p > svg > foreignObject > section .hljs-emphasis{font-style:italic}div#\:\$p > svg > foreignObject > section .hljs-strong{font-weight:700}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1),div#\:\$p > svg > foreignObject > section :is(h2, marp-h2),div#\:\$p > svg > foreignObject > section :is(h3, marp-h3),div#\:\$p > svg > foreignObject > section :is(h4, marp-h4),div#\:\$p > svg > foreignObject > section :is(h5, marp-h5),div#\:\$p > svg > foreignObject > section :is(h6, marp-h6){margin:.5em 0 0}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1) strong,div#\:\$p > svg > foreignObject > section :is(h2, marp-h2) strong,div#\:\$p > svg > foreignObject > section :is(h3, marp-h3) strong,div#\:\$p > svg > foreignObject > section :is(h4, marp-h4) strong,div#\:\$p > svg > foreignObject > section :is(h5, marp-h5) strong,div#\:\$p > svg > foreignObject > section :is(h6, marp-h6) strong{font-weight:inherit}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h2, marp-h2)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h3, marp-h3)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h4, marp-h4)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h5, marp-h5)::part(auto-scaling),div#\:\$p > svg > foreignObject > section :is(h6, marp-h6)::part(auto-scaling){max-height:580px}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1){font-size:1.8em}div#\:\$p > svg > foreignObject > section :is(h2, marp-h2){font-size:1.5em}div#\:\$p > svg > foreignObject > section :is(h3, marp-h3){font-size:1.3em}div#\:\$p > svg > foreignObject > section :is(h4, marp-h4){font-size:1.1em}div#\:\$p > svg > foreignObject > section :is(h5, marp-h5){font-size:1em}div#\:\$p > svg > foreignObject > section :is(h6, marp-h6){font-size:.9em}div#\:\$p > svg > foreignObject > section blockquote,div#\:\$p > svg > foreignObject > section p{margin:1em 0 0}div#\:\$p > svg > foreignObject > section ol>li,div#\:\$p > svg > foreignObject > section ul>li{margin:.3em 0 0}div#\:\$p > svg > foreignObject > section ol>li>p,div#\:\$p > svg > foreignObject > section ul>li>p{margin:.6em 0 0}div#\:\$p > svg > foreignObject > section code{display:inline-block;font-family:Roboto Mono,monospace;font-size:.8em;letter-spacing:0;margin:-.1em .15em;padding:.1em .2em;vertical-align:baseline}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre){display:block;margin:1em 0 0;overflow:visible}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre) code{box-sizing:border-box;font-size:.7em;margin:0;min-width:100%;padding:.5em}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)::part(auto-scaling){max-height:calc(580px - 1em)}div#\:\$p > svg > foreignObject > section blockquote{margin:1em 0 0;padding:0 1em;position:relative}div#\:\$p > svg > foreignObject > section blockquote:after,div#\:\$p > svg > foreignObject > section blockquote:before{content:"“";display:block;font-family:Times New Roman,serif;font-weight:700;position:absolute}div#\:\$p > svg > foreignObject > section blockquote:before{left:0;top:0}div#\:\$p > svg > foreignObject > section blockquote:after{bottom:0;right:0;transform:rotate(180deg)}div#\:\$p > svg > foreignObject > section blockquote>:first-child{margin-top:0}div#\:\$p > svg > foreignObject > section mark{background:transparent}div#\:\$p > svg > foreignObject > section table{border-collapse:collapse;border-spacing:0;margin:1em 0 0}div#\:\$p > svg > foreignObject > section table td,div#\:\$p > svg > foreignObject > section table th{border-style:solid;border-width:1px;padding:.2em .4em}div#\:\$p > svg > foreignObject > section footer,div#\:\$p > svg > foreignObject > section header,div#\:\$p > svg > foreignObject > section:after{box-sizing:border-box;font-size:66%;height:70px;line-height:50px;overflow:hidden;padding:10px 25px;position:absolute}div#\:\$p > svg > foreignObject > section:after{--marpit-root-font-size:66%;}div#\:\$p > svg > foreignObject > section header{top:0}div#\:\$p > svg > foreignObject > section footer,div#\:\$p > svg > foreignObject > section header{left:0;right:0}div#\:\$p > svg > foreignObject > section footer{bottom:0}div#\:\$p > svg > foreignObject > section{background-color:var(--color-background);background-image:linear-gradient(135deg, hsla(0,0%,53%,0), hsla(0,0%,53%,.02) 50%, hsla(0,0%,100%,0) 0, hsla(0,0%,100%,.05));color:var(--color-foreground);font-family:Lato,Avenir Next,Avenir,Trebuchet MS,Segoe UI,sans-serif;font-size:35px;height:720px;letter-spacing:1.25px;line-height:1.35;padding:70px;width:1280px;word-wrap:break-word;--color-background:#fff8e1;--color-background-stripe:rgba(69,90,100,.1);--color-foreground:#455a64;--color-dimmed:#6a7a7d;--color-highlight:#0288d1;}div#\:\$p > svg > foreignObject > section{--marpit-root-font-size:35px;}div#\:\$p > svg > foreignObject > section:after{bottom:0;font-size:80%;right:0}div#\:\$p > svg > foreignObject > section:after{--marpit-root-font-size:80%;}div#\:\$p > svg > foreignObject > section a,div#\:\$p > svg > foreignObject > section mark{color:var(--color-highlight)}div#\:\$p > svg > foreignObject > section code{background:var(--color-dimmed);color:var(--color-background)}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1) strong,div#\:\$p > svg > foreignObject > section :is(h2, marp-h2) strong,div#\:\$p > svg > foreignObject > section :is(h3, marp-h3) strong,div#\:\$p > svg > foreignObject > section :is(h4, marp-h4) strong,div#\:\$p > svg > foreignObject > section :is(h5, marp-h5) strong,div#\:\$p > svg > foreignObject > section :is(h6, marp-h6) strong{color:var(--color-highlight)}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre){background:var(--color-foreground)}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code{background:transparent}div#\:\$p > svg > foreignObject > section blockquote:after,div#\:\$p > svg > foreignObject > section blockquote:before,div#\:\$p > svg > foreignObject > section footer,div#\:\$p > svg > foreignObject > section header,div#\:\$p > svg > foreignObject > section section:after{color:var(--color-dimmed)}div#\:\$p > svg > foreignObject > section table td,div#\:\$p > svg > foreignObject > section table th{border-color:var(--color-foreground)}div#\:\$p > svg > foreignObject > section table thead th{background:var(--color-foreground);color:var(--color-background)}div#\:\$p > svg > foreignObject > section table tbody>tr:nth-child(odd) td,div#\:\$p > svg > foreignObject > section table tbody>tr:nth-child(odd) th{background:var(--color-background-stripe, transparent)}div#\:\$p > svg > foreignObject > section>:first-child,div#\:\$p > svg > foreignObject > section>header:first-child+*{margin-top:0}div#\:\$p > svg > foreignObject > section:where(.invert){--color-background:#455a64;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#dad8c8;--color-highlight:#81d4fa;}div#\:\$p > svg > foreignObject > section:where(.gaia){--color-background:#0288d1;--color-background-stripe:rgba(255,248,225,.1);--color-foreground:#fff8e1;--color-dimmed:#cce2de;--color-highlight:#81d4fa;}div#\:\$p > svg > foreignObject > section:where(.lead){align-items:stretch;flex-flow:column nowrap;place-content:safe center center}div#\:\$p > svg > foreignObject > section:where(.lead) :is(h1, marp-h1),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h2, marp-h2),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h3, marp-h3),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h4, marp-h4),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h5, marp-h5),div#\:\$p > svg > foreignObject > section:where(.lead) :is(h6, marp-h6){text-align:center}div#\:\$p > svg > foreignObject > section:where(.lead) p{text-align:center}div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h1, marp-h1),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h2, marp-h2),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h3, marp-h3),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h4, marp-h4),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h5, marp-h5),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>:is(h6, marp-h6),div#\:\$p > svg > foreignObject > section:where(.lead) blockquote>p{text-align:left}div#\:\$p > svg > foreignObject > section:where(.lead) ol>li>p,div#\:\$p > svg > foreignObject > section:where(.lead) ul>li>p{text-align:left}div#\:\$p > svg > foreignObject > section:where(.lead) table{margin-left:auto;margin-right:auto}div#\:\$p > svg > foreignObject > :where(section){container-type:size}div#\:\$p > svg > foreignObject > section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}/*!
 * Marp / Marpit SOAT theme.
 *
 * @theme D-EDGE
 * @author Romain Deneau
 *
 * @auto-scaling true
 * @size 4:3 960px 720px
 */div#\:\$p > svg > foreignObject > section .hljs-comment{font-style:normal}div#\:\$p > svg > foreignObject > section{font-size:28px;font-family:'Montserrat', 'Trebuchet MS', 'Segoe UI', sans-serif;color:#1d1d1b;background-color:#fff;background:url(../themes/d-edge/backgrounds/bg0b.png) no-repeat center center;padding:40px}div#\:\$p > svg > foreignObject > section{--marpit-root-font-size: 28px;}div#\:\$p > svg > foreignObject > section :is(marp-pre){background-color:#1d1d1b}div#\:\$p > svg > foreignObject > section a, div#\:\$p > svg > foreignObject > section mark{color:#491e81}div#\:\$p > svg > foreignObject > section code{background:#4a4a49;color:#fff}div#\:\$p > svg > foreignObject > section :is(h1, marp-h1) strong, div#\:\$p > svg > foreignObject > section :is(h2, marp-h2) strong, div#\:\$p > svg > foreignObject > section :is(h3, marp-h3) strong, div#\:\$p > svg > foreignObject > section :is(h4, marp-h4) strong, div#\:\$p > svg > foreignObject > section :is(h5, marp-h5) strong, div#\:\$p > svg > foreignObject > section :is(h6, marp-h6) strong{color:#00d7b0}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code{background:#1d1d1b}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-cs svg foreignObject:before, div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-fs svg foreignObject:before, div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-ts svg foreignObject:before, div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-js svg foreignObject:before, div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-json svg foreignObject:before{background-color:rgba(255, 255, 255, 0.5);color:black;border-radius:3px;padding:1px 6px;float:right}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-cs svg foreignObject:before{content:'C#'}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-fs svg foreignObject:before{content:'F#'}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-js svg foreignObject:before{content:'JS'}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-json svg foreignObject:before{content:'JSON'}div#\:\$p > svg > foreignObject > section :is(pre, marp-pre)>code.language-ts svg foreignObject:before{content:'TS'}div#\:\$p > svg > foreignObject > section code{font-family:"Fira Code", monospace;font-variant-ligatures:normal}div#\:\$p > svg > foreignObject > section header, div#\:\$p > svg > foreignObject > section footer, div#\:\$p > svg > foreignObject > section section::after, div#\:\$p > svg > foreignObject > section blockquote::before, div#\:\$p > svg > foreignObject > section blockquote::after{color:#4a4a49}div#\:\$p > svg > foreignObject > section footer{margin-left:6px}div#\:\$p > svg > foreignObject > section.agenda footer{margin-left:80px}div#\:\$p > svg > foreignObject > section table th, div#\:\$p > svg > foreignObject > section table td{border-color:#1d1d1b}div#\:\$p > svg > foreignObject > section table thead th{background:#1d1d1b;color:#fff}div#\:\$p > svg > foreignObject > section table tbody>tr:nth-child(odd) td, div#\:\$p > svg > foreignObject > section table tbody>tr:nth-child(odd) th{background:rgba(29, 29, 27, 0.1)}div#\:\$p > svg > foreignObject > section ul{list-style:none;padding-left:30px}div#\:\$p > svg > foreignObject > section ul li::before{content:'➔';display:inline-block;margin-right:25px}div#\:\$p > svg > foreignObject > section.invert{color:#fff;background-color:#1d1d1b}div#\:\$p > svg > foreignObject > section.invert a, div#\:\$p > svg > foreignObject > section.invert mark{color:#f6a000}div#\:\$p > svg > foreignObject > section.invert code{background:#d2d2d1;color:#1d1d1b}div#\:\$p > svg > foreignObject > section.invert :is(h1, marp-h1) strong, div#\:\$p > svg > foreignObject > section.invert :is(h2, marp-h2) strong, div#\:\$p > svg > foreignObject > section.invert :is(h3, marp-h3) strong, div#\:\$p > svg > foreignObject > section.invert :is(h4, marp-h4) strong, div#\:\$p > svg > foreignObject > section.invert :is(h5, marp-h5) strong, div#\:\$p > svg > foreignObject > section.invert :is(h6, marp-h6) strong{color:#f6a000}div#\:\$p > svg > foreignObject > section.invert :is(pre, marp-pre)>code{background:#fff}div#\:\$p > svg > foreignObject > section.invert header, div#\:\$p > svg > foreignObject > section.invert footer, div#\:\$p > svg > foreignObject > section.invert section::after, div#\:\$p > svg > foreignObject > section.invert blockquote::before, div#\:\$p > svg > foreignObject > section.invert blockquote::after{color:#d2d2d1}div#\:\$p > svg > foreignObject > section.invert table th, div#\:\$p > svg > foreignObject > section.invert table td{border-color:#fff}div#\:\$p > svg > foreignObject > section.invert table thead th{background:#fff;color:#1d1d1b}div#\:\$p > svg > foreignObject > section.invert table tbody>tr:nth-child(odd) td, div#\:\$p > svg > foreignObject > section.invert table tbody>tr:nth-child(odd) th{background:rgba(255, 255, 255, 0.1)}div#\:\$p > svg > foreignObject > section.d-edge{color:#fff;background-color:#491e81}div#\:\$p > svg > foreignObject > section.d-edge a, div#\:\$p > svg > foreignObject > section.d-edge mark{color:#f6a000}div#\:\$p > svg > foreignObject > section.d-edge code{background:#dbf0eb;color:#491e81}div#\:\$p > svg > foreignObject > section.d-edge :is(h1, marp-h1) strong, div#\:\$p > svg > foreignObject > section.d-edge :is(h2, marp-h2) strong, div#\:\$p > svg > foreignObject > section.d-edge :is(h3, marp-h3) strong, div#\:\$p > svg > foreignObject > section.d-edge :is(h4, marp-h4) strong, div#\:\$p > svg > foreignObject > section.d-edge :is(h5, marp-h5) strong, div#\:\$p > svg > foreignObject > section.d-edge :is(h6, marp-h6) strong{color:#f6a000}div#\:\$p > svg > foreignObject > section.d-edge :is(pre, marp-pre)>code{background:#fff}div#\:\$p > svg > foreignObject > section.d-edge header, div#\:\$p > svg > foreignObject > section.d-edge footer, div#\:\$p > svg > foreignObject > section.d-edge section::after, div#\:\$p > svg > foreignObject > section.d-edge blockquote::before, div#\:\$p > svg > foreignObject > section.d-edge blockquote::after{color:#dbf0eb}div#\:\$p > svg > foreignObject > section.d-edge table th, div#\:\$p > svg > foreignObject > section.d-edge table td{border-color:#fff}div#\:\$p > svg > foreignObject > section.d-edge table thead th{background:#fff;color:#491e81}div#\:\$p > svg > foreignObject > section.d-edge table tbody>tr:nth-child(odd) td, div#\:\$p > svg > foreignObject > section.d-edge table tbody>tr:nth-child(odd) th{background:rgba(255, 255, 255, 0.1)}div#\:\$p > svg > foreignObject > section.title{background:url(../themes/d-edge/backgrounds/bg1.png) no-repeat center center;background-size:cover;background-position:right center;padding-left:78px;padding-bottom:60px;display:table-cell;text-align:center;vertical-align:middle}div#\:\$p > svg > foreignObject > section.title :is(h1, marp-h1), div#\:\$p > svg > foreignObject > section.title :is(h2, marp-h2), div#\:\$p > svg > foreignObject > section.title :is(h3, marp-h3){width:70%}div#\:\$p > svg > foreignObject > section.title :is(h2, marp-h2){color:#d8bcff;margin-bottom:40px}div#\:\$p > svg > foreignObject > section.title :is(h3, marp-h3){font-size:1.2em;margin-left:70px}div#\:\$p > svg > foreignObject > section.end{background:url(../themes/d-edge/backgrounds/bg1.png) right top no-repeat, #491e81;background-size:cover}div#\:\$p > svg > foreignObject > section.chapter{background:url(../themes/d-edge/backgrounds/bg2.png) right top no-repeat, #491e81;background-size:cover}div#\:\$p > svg > foreignObject > section.agenda{background:url(../themes/d-edge/backgrounds/bg3.png) right top no-repeat, #491e81;background-size:cover}div#\:\$p > svg > foreignObject > section.speaker{background-image:url(../themes/d-edge/pictos/SOAT_pictos_reunion.png), url(../themes/d-edge/backgrounds/bg-orange.png);background-repeat:no-repeat, no-repeat;background-size:20%, cover;background-position:left, top right}div#\:\$p > svg > foreignObject > section.speaker :is(h2, marp-h2){padding-left:400px}div#\:\$p > svg > foreignObject > section.speaker p, div#\:\$p > svg > foreignObject > section.speaker ul{padding-left:400px}div#\:\$p > svg > foreignObject > section.speaker ul{margin-top:30px;margin-bottom:50px}div#\:\$p > svg > foreignObject > section.speaker img[alt~='social-network']{height:40px;margin-top:0px;margin-bottom:-15px;margin-left:-10px;margin-right:10px}div#\:\$p > svg > foreignObject > section.speaker a{text-decoration:none;color:#fff;padding-left:0}div#\:\$p > svg > foreignObject > section.agenda :is(h2, marp-h2){text-align:left;position:absolute;top:40px;left:110px}div#\:\$p > svg > foreignObject > section.agenda ul{margin-top:80px;margin-left:60px}div#\:\$p > svg > foreignObject > section.agenda ul li::before{color:#ffe60b}div#\:\$p > svg > foreignObject > section.agenda ol{margin-top:80px;margin-left:80px}div#\:\$p > svg > foreignObject > section.agenda ol li::marker{color:#ffe60b;font-weight:bold}div#\:\$p > svg > foreignObject > section.chapter{padding-left:160px;overflow:visible;display:grid;grid-template-columns:auto auto;grid-template-rows:auto auto;grid-template-areas:"count title" "none subtitle";align-items:flex-end;justify-content:center}div#\:\$p > svg > foreignObject > section.chapter :is(h1, marp-h1){grid-area:count;margin-right:20px;line-height:168px;font-size:7em}div#\:\$p > svg > foreignObject > section.chapter :is(h2, marp-h2){grid-area:title;margin-top:100px;font-size:1.6em;max-width:65%;align-self:left;overflow-wrap:normal}div#\:\$p > svg > foreignObject > section.chapter :is(h3, marp-h3){grid-area:subtitle;font-weight:normal;font-size:1em}div#\:\$p > svg > foreignObject > section img[alt~='bg-right']{position:absolute;right:80px;bottom:120px;top:auto}div#\:\$p > svg > foreignObject > section img[alt~='center']{display:block;margin:0 auto}div#\:\$p > svg > foreignObject > section.workshop :is(h1, marp-h1), div#\:\$p > svg > foreignObject > section.break :is(h1, marp-h1){font-size:250%}div#\:\$p > svg > foreignObject > section:not(.title):not(.speaker):not(.chapter):not(.agenda):not(.workshop):not(.break):not(.end) :is(h1, marp-h1){background:#491e81;background:linear-gradient(90deg, rgba(139, 66, 225, 1) 0%, rgba(127, 20, 181, 1) 35%, rgba(73, 30, 129, 1) 100%);color:#fff;padding:20px 40px;line-height:60px;margin:-40px;margin-bottom:0}div#\:\$p > svg > foreignObject > section:not(.title):not(.speaker):not(.chapter):not(.agenda):not(.workshop):not(.break):not(.end) :is(h2, marp-h2){background:rgba(139, 66, 225, 0.3);padding:20px 40px 15px;margin:-40px;margin-bottom:0}div#\:\$p > svg > foreignObject > section::after{color:#1d1d1b;font-weight:400;font-size:.8em;padding-right:15px}div#\:\$p > svg > foreignObject > section::after{--marpit-root-font-size: .8em;}div#\:\$p > svg > foreignObject > section.chapter::after{color:white}div#\:\$p > svg > foreignObject > section.title::after, div#\:\$p > svg > foreignObject > section.end::after{visibility:hidden}div#\:\$p > svg > foreignObject > section .column{float:left}div#\:\$p > svg > foreignObject > section .row:after{content:"";display:table;clear:both}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"]::before, div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"]::after, div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="content"]::before, div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="content"]::after{display:none!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction="vertical"]{flex-direction:column}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"][data-marpit-advanced-background-split] > div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split, 50%)}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"][data-marpit-advanced-background-split="right"] > div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container] > figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="background"] > div[data-marpit-advanced-background-container] > figure > figcaption{position:absolute;border:0;clip:rect(0, 0, 0, 0);height:1px;margin:-1px;overflow:hidden;padding:0;white-space:nowrap;width:1px}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="content"], div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="pseudo"]{background:transparent!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background="pseudo"], div#\:\$p > svg[data-marpit-svg] > foreignObject[data-marpit-advanced-background="pseudo"]{pointer-events:none!important}div#\:\$p > svg > foreignObject > section[data-marpit-advanced-background-split]{width:100%;height:100%}
</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="1" data-footer="F♯ Training • Types" data-paginate="true" data-class="title invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="title invert" data-marpit-pagination="1" style="--footer:F♯ Training • Types;--paginate:true;--class:title invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="f%E2%99%AF-training-%F0%9F%96%87%EF%B8%8F">F♯ Training <a href="fsharp-training-00-toc.html#2" title="Root table of contents"><img class="emoji" draggable="false" alt="🖇️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f587.svg" data-marp-twemoji=""/></a></h1>
<h2 id="types"><em>Types</em></h2>
<h3 id="2025-april">2025 April</h3>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section data-footer="F♯ Training • Types" data-paginate="true" data-class="agenda invert lead" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="agenda invert lead" data-marpit-pagination="2" style="--footer:F♯ Training • Types;--paginate:true;--class:agenda invert lead;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;--marpit-advanced-background-split:30%;" data-marpit-pagination-total="90" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;../themes/d-edge/pictos/SOAT_pictos_formation.png&quot;);background-size:auto 300px;"></figure></div></section></foreignObject><foreignObject width="70%" height="720"><section id="2" data-footer="F♯ Training • Types" data-paginate="true" data-class="agenda invert lead" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="agenda invert lead" data-marpit-pagination="2" style="--footer:F♯ Training • Types;--paginate:true;--class:agenda invert lead;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;--marpit-advanced-background-split:30%;" data-marpit-pagination-total="90" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<h2 id="table-of-contents">Table of contents</h2>
<ul>
<li>Overview</li>
<li>Tuples</li>
<li>Records</li>
<li>Unions</li>
<li>Enums</li>
<li>Anonymous records</li>
<li>Value types</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject><foreignObject width="1280" height="720" data-marpit-advanced-background="pseudo"><section data-footer="F♯ Training • Types" data-paginate="true" data-class="agenda invert lead" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="agenda invert lead" data-marpit-pagination="2" style="" data-marpit-pagination-total="90" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="3" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="3" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_idee.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="1-1">1.</h1>
<h2 id="types-overview">Types Overview</h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="4" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="4" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="net-type-classifications">.NET type classifications</h1>
<ol>
<li>Value types <em>vs</em> reference types</li>
<li>Primitive types <em>vs</em> composite types</li>
<li>Generic types</li>
<li>Types created from literal values</li>
<li>Algebraic types: sum <em>vs</em> product</li>
</ol>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="5" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="5" style="--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="composite-types">Composite types</h1>
<p>Created by combining other types<br />
<img class="emoji" draggable="false" alt="👉" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f449.svg" data-marp-twemoji=""/> F# type features stable and mature</p>
<table>
<thead>
<tr>
<th>Types</th>
<th><em>Version</em></th>
<th>Name</th>
<th><em>Ref. type</em></th>
<th><em>Value type</em></th>
</tr>
</thead>
<tbody>
<tr>
<td>Types .NET</td>
<td></td>
<td><code>class</code></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>struct</code>, <code>enum</code></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td>Specific to C♯</td>
<td>C♯ 3.0</td>
<td>Anonymous type</td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td></td>
<td>C♯ 7.0</td>
<td><em>Value tuple</em></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td></td>
<td>C♯ 9.0</td>
<td><code>record (class)</code></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td></td>
<td>C♯ 10.0</td>
<td><code>record struct</code></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td>Specific to F♯</td>
<td></td>
<td><em>Tuple, Record, Union</em></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> (default)</td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> (opt-in)</td>
</tr>
<tr>
<td></td>
<td>F♯ 4.6</td>
<td>Anonymous <em>Record</em></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> (default)</td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> (opt-in)</td>
</tr>
</tbody>
</table>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="6" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="6" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="composite-types-2">Composite types (2)</h1>
<p>Can be generic (except <code>enum</code>)</p>
<p>Location:</p>
<ul>
<li><em>Top-level</em> : <code>namespace</code>, top-level <code>module</code> (F♯)</li>
<li><em>Nested</em> : <code>class</code> (C♯), <code>module</code> (F♯)</li>
<li>Not definable in <code>let</code> bindings, <code>member</code></li>
</ul>
<p>In F♯, all type definitions are made with the <code>type</code> keyword<br />
→ including classes, enums and interfaces!<br />
→ but tuples don't need a type definition</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="7" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="7" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="particularity-of-f%E2%99%AF-types--net-types">Particularity of F♯ types / .NET types</h1>
<p><em>Tuple, Record, Union</em> are:</p>
<ul>
<li>Immutable by default</li>
<li>Non-nullable by default</li>
<li>Equality and structural comparison <em>(except with fields of <code>function</code> type)</em></li>
<li><code>sealed</code>: cannot be inherited</li>
<li>Deconstruction, with same syntax as construction <img class="emoji" draggable="false" alt="📍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cd.svg" data-marp-twemoji=""/></li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="8" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="8" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="types-with-literal-values">Types with literal values</h1>
<p>Literal values = instances whose type is inferred</p>
<ul>
<li>Primitive types: <code>true</code> (<code>bool</code>) - <code>&quot;abc&quot;</code> (<code>string</code>) - <code>1.0m</code> (<code>decimal</code>)</li>
<li>Tuples C♯ / F♯ : <code>(1, true)</code></li>
<li>Anonymous types C♯ : <code>new { Name = &quot;Joe&quot;, Age = 18 }</code></li>
<li>Records F♯ : <code>{ Name = &quot;Joe&quot;; Age = 18 }</code></li>
</ul>
<p><img class="emoji" draggable="false" alt="☝" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> <strong>Note :</strong></p>
<ul>
<li>Types must be defined beforehand <img class="emoji" draggable="false" alt="❗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" data-marp-twemoji=""/></li>
<li>Exception: tuples and C♯ anonymous types: implicit definition</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="9" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="9" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="algebraic-data-types-adt">Algebraic data types (ADT)</h1>
<blockquote>
<p>Composite types, combining other types by <em>product</em> or <em>sum.</em></p>
</blockquote>
<p>Let's take the types <code>A</code> and <code>B</code>, then we can create:</p>
<ul>
<li>The product type <code>A × B</code>:
<ul>
<li>Contains 1 component of type <code>A</code> AND 1 of type <code>B</code>.</li>
<li>Anonymous or named components</li>
</ul>
</li>
<li>Sum type <code>A + B</code>:
<ul>
<li>Contains 1 component of type <code>A</code> OR 1 of type <code>B</code>.</li>
</ul>
</li>
</ul>
<p>By extension, same for the product/sum types of N types.</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="10" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="10" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="why-sum-and-product-terms">Why <em>Sum</em> and <em>Product</em> terms?</h2>
<p>It's related to the <em>number of values</em>:</p>
<ul>
<li><code>bool</code> → 2 values: <code>true</code> and <code>false</code></li>
<li><code>unit</code> → 1 value <code>()</code></li>
<li><code>int</code> → infinite number of values</li>
</ul>
<p>The number of values in the composed type will be:</p>
<ul>
<li>The sum of numbers for a <em>sum type</em>: <code>N(A) + N(B)</code></li>
<li>The product of numbers for a <em>product type</em>: <code>N(A) * N(B)</code></li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="11" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="11" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="algebraic-types-vs-composite-types">Algebraic types <em>vs</em> Composite types</h1>
<table>
<thead>
<tr>
<th>Type</th>
<th>Sum</th>
<th>Product</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enum</code></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td><em>Union</em> F♯</td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td><code>class</code> (1), <code>interface</code>, <code>struct</code></td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td><em>Record</em> F♯</td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
</tr>
<tr>
<td><em>Tuple</em> F♯</td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/></td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></td>
</tr>
</tbody>
</table>
<p>(1) C♯ classes in the broadest sense:<br />
→ including modern variations like <em>anonymous type,</em> <em>Value tuple</em> and <em>Record</em></p>
<p><img class="emoji" draggable="false" alt="👉" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f449.svg" data-marp-twemoji=""/> In C♯, only 1 sum type: <code>enum</code>, very limited / union type <img class="emoji" draggable="false" alt="📍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cd.svg" data-marp-twemoji=""/></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="12" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="12" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="type-abbreviation">Type abbreviation</h1>
<p><strong>Alias</strong> of another type: <code>type [name] = [existingType]</code></p>
<p>Different use-cases:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// 1. Document code to avoid repetition</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ComplexNumber</span> <span class="hljs-operator">=</span> float <span class="hljs-operator">*</span> float
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Addition</span><span class="hljs-operator">&lt;</span><span class="hljs-symbol">&#x27;num</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">=</span> <span class="hljs-symbol">&#x27;num</span> <span class="hljs-operator">-&gt;</span> <span class="hljs-symbol">&#x27;num</span> <span class="hljs-operator">-&gt;</span> <span class="hljs-symbol">&#x27;num</span> <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👈" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f448.svg" data-marp-twemoji=""/> Also works with generics</span>

<span class="hljs-comment">// 2. Decouple (partially) usage / implementation</span>
<span class="hljs-comment">//    → Easier to change the implementation (for a stronger type)</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ProductCode</span> <span class="hljs-operator">=</span> string
<span class="hljs-keyword">type</span> <span class="hljs-title class_">CustomerId</span> <span class="hljs-operator">=</span> int
</code></pre>
<p><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Deleted at compile time → <s><em>type safety</em></s><br />
→ Compiler allows <code>int</code> to be passed instead of <code>CustomerId</code>!</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="13" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="13" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="type-abbreviation-2">Type abbreviation (2)</h1>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> It's also possible to create an alias for a module <img class="emoji" draggable="false" alt="📍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cd.svg" data-marp-twemoji=""/><br />
<code>module [name] = [existingModule]</code></p>
<p><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> It's NOT possible to create an alias for a namespace (≠ C♯)</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="14" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="14" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_produit.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="2-1">2.</h1>
<h2 id="tuple-type">Tuple Type</h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="15" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="15" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="tuples-key-points">Tuples: key points</h1>
<p>Types constructed from <strong>literal values</strong></p>
<p>Anonymous types<br />
<em>but aliases can be defined to give them a name</em></p>
<p>Product types by definition<br />
→ <code>*</code> sign in the type signature: <code>A * B</code></p>
<p>Number of elements in the tuples:<br />
• <img class="emoji" draggable="false" alt="👌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44c.svg" data-marp-twemoji=""/> 2 or 3 (<code>A * B * C</code>)<br />
• <img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> &gt; 3 : possible but prefer <em>Records</em></p>
<p>Element order matters<br />
→ <code>A * B</code> ≠ <code>B * A</code> <em>(if <code>A</code> ≠ <code>B</code>)</em></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="16" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="16" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="tuples-construction">Tuples: construction</h1>
<p>Syntax of literals: <code>a,b</code> or <code>a, b</code> or <code>(a, b)</code></p>
<ul>
<li>Comma <code>,</code>: symbol dedicated to tuples in F#</li>
<li>Spaces <code> </code> are optional</li>
<li>Parentheses <code>()</code> may be necessary</li>
</ul>
<p><strong><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Pitfall:</strong> the symbol used is different for literals <em>vs</em> types</p>
<ul>
<li><code>,</code> for literal</li>
<li><code>*</code> for signature</li>
<li>E.g. <code>true, 1.2</code> → <code>bool * float</code></li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="17" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="17" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="tuples-deconstruction">Tuples: deconstruction</h1>
<ul>
<li>Same syntax as construction <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/></li>
<li>All elements must appear in the deconstruction <img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/>
<ul>
<li>Use <code>_</code> <em>(discard)</em> to ignore one of the elements</li>
</ul>
</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> point <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>, <span class="hljs-number">2.5</span>
<span class="hljs-keyword">let</span> x, y <span class="hljs-operator">=</span> point

<span class="hljs-keyword">let</span> x, y <span class="hljs-operator">=</span> <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0001: Type incompatibility...</span>
                   <span class="hljs-comment">// ... Tuples have lengths other than 2 and 3</span>

<span class="hljs-keyword">let</span> result <span class="hljs-operator">=</span> System.Int32.TryParse(<span class="hljs-string">&quot;123&quot;</span>) <span class="hljs-comment">// (bool * int)</span>
<span class="hljs-keyword">let</span> _, value <span class="hljs-operator">=</span> result <span class="hljs-comment">// Ignore the &quot;bool&quot;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="18" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="18" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="tuples-in-practice">Tuples in practice</h1>
<p><img src="../themes/d-edge/pictos/SOAT_pictos_idee.png" alt="bg-right" style="height:300px;" /></p>
<p>Use a tuple for a data structure:</p>
<ul>
<li>Small: 2 to 3 elements</li>
<li>Light: no need for element names</li>
<li>Local: small scope</li>
</ul>
<p>Immutable tuple:<br />
→ modifications are made by creating a new tuple</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> addOneToTuple (x, y, z) <span class="hljs-operator">=</span> x <span class="hljs-operator">+</span> <span class="hljs-number">1</span>, y <span class="hljs-operator">+</span> <span class="hljs-number">1</span>, z <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="19" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="19" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="tuples-in-practice-2">Tuples in practice (2)</h1>
<p><strong>Structural equality</strong>, but only between 2 tuples of the same signature!</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp">(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-operator">=</span> (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)       <span class="hljs-comment">// true</span>
(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-operator">=</span> (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)       <span class="hljs-comment">// false</span>
(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-operator">=</span> (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)     <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0001: Type incompatibility...</span>
                    <span class="hljs-comment">// ... Tuples have lengths other than 2 and 3</span>
(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-operator">=</span> (<span class="hljs-number">1</span>,(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>))   <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0001: This expression was supposed to have type `int`...</span>
                    <span class="hljs-comment">// ... but here it has type `&#x27;a * &#x27;b`</span>
</code></pre>
<p><strong>Nesting</strong> of tuples using <code>()</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> doublet <span class="hljs-operator">=</span> (<span class="hljs-literal">true</span>,<span class="hljs-number">1</span>), (<span class="hljs-literal">false</span>, <span class="hljs-string">&quot;a&quot;</span>)  <span class="hljs-comment">// (bool * int) * (bool * string) → pair of pairs</span>
<span class="hljs-keyword">let</span> quadruplet <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">&quot;a&quot;</span>  <span class="hljs-comment">// bool * int * bool * string → quadruplet</span>
doublet <span class="hljs-operator">=</span> quadruplet                  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0001: Type incompatibility...</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="20" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="20" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="tuples-pattern-matching">Tuples: pattern matching</h1>
<p>Patterns recognized with tuples:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> print move <span class="hljs-operator">=</span>
    <span class="hljs-keyword">match</span> move <span class="hljs-keyword">with</span>
    <span class="hljs-operator">|</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span> <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;No move&quot;</span>                     <span class="hljs-comment">// Constant 0</span>
    <span class="hljs-operator">|</span> <span class="hljs-number">0</span>, y <span class="hljs-operator">-&gt;</span> <span class="hljs-string">$&quot;Vertical <span class="hljs-subst">{y}</span>&quot;</span>               <span class="hljs-comment">// Variable y (!= 0)</span>
    <span class="hljs-operator">|</span> x, <span class="hljs-number">0</span> <span class="hljs-operator">-&gt;</span> <span class="hljs-string">$&quot;Horizontal <span class="hljs-subst">{x}</span>&quot;</span>
    <span class="hljs-operator">|</span> x, y <span class="hljs-keyword">when</span> x <span class="hljs-operator">=</span> y <span class="hljs-operator">-&gt;</span> <span class="hljs-string">$&quot;Diagonal <span class="hljs-subst">{x}</span>&quot;</span>    <span class="hljs-comment">// Condition x and y equal</span>
                                            <span class="hljs-comment">// `x, x` is not a recognized pattern <img class="emoji" draggable="false" alt="❗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" data-marp-twemoji=""/></span>
    <span class="hljs-operator">|</span> x, y <span class="hljs-operator">-&gt;</span> <span class="hljs-string">$&quot;Other (<span class="hljs-subst">{x}</span>, <span class="hljs-subst">{y}</span>)&quot;</span>
</code></pre>
<p><img class="emoji" draggable="false" alt="☝" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> <strong>Notes:</strong></p>
<ul>
<li>Patterns are ordered from specific to generic</li>
<li>The last pattern <code>x, y</code> is the default one to deconstruct a tuple</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="21" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="21" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="pairs">Pairs</h1>
<ul>
<li>2-element tuples</li>
<li>So common that 2 helpers are associated with them:
<ul>
<li><code>fst</code> as <em>first</em> to extract the 1st element of the pair</li>
<li><code>snd</code> as <em>second</em> to extract the 2nd element of the pair</li>
<li><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Only works for pairs</li>
</ul>
</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> pair <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&quot;b&quot;</span>
<span class="hljs-built_in">fst</span> pair  <span class="hljs-comment">// &#x27;a&#x27; (char)</span>
<span class="hljs-built_in">snd</span> pair  <span class="hljs-comment">// &quot;b&quot; (string)</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="22" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="22" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_question.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="pair-quiz-%F0%9F%95%B9%EF%B8%8F">Pair Quiz <img class="emoji" draggable="false" alt="🕹️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f579.svg" data-marp-twemoji=""/></h1>
<h4 id="1-implement-fst-and-snd"><strong>1.</strong> Implement <code>fst</code> and <code>snd</code></h4>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> <span class="hljs-built_in">fst</span> <span class="hljs-operator">...</span> <span class="hljs-operator">?</span>
<span class="hljs-keyword">let</span> <span class="hljs-built_in">snd</span> <span class="hljs-operator">...</span> <span class="hljs-operator">?</span>
</code></pre>
<h4 id="2-what-is-the-signature-of-this-function"><strong>2.</strong> What is the signature of this function?</h4>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> toList (x, y) <span class="hljs-operator">=</span> [x; y]
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="23" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="23" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_solution.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="pair-quiz-%F0%9F%8E%B2">Pair Quiz <img class="emoji" draggable="false" alt="🎲" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3b2.svg" data-marp-twemoji=""/></h1>
<h4 id="1-how-do-you-implement-fst-and-snd-yourself"><strong>1.</strong> How do you implement <code>fst</code> and <code>snd</code> yourself?</h4>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> <span class="hljs-keyword">inline</span> <span class="hljs-built_in">fst</span> (x, _) <span class="hljs-operator">=</span> x  <span class="hljs-comment">// Signature : &#x27;a * &#x27;b -&gt; &#x27;a</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword">inline</span> <span class="hljs-built_in">snd</span> (_, y) <span class="hljs-operator">=</span> y  <span class="hljs-comment">// Signature : &#x27;a * &#x27;b -&gt; &#x27;b</span>
</code></pre>
<ul>
<li>Tuple deconstruction: <code>(x, y)</code></li>
<li>We <em>discard</em> one element using <code>_</code> wildcard</li>
<li>Functions can be <code>inline</code></li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="24" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="24" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_solution.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="pair-quiz-%F0%9F%8E%B2%F0%9F%8E%B2">Pair Quiz <img class="emoji" draggable="false" alt="🎲" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3b2.svg" data-marp-twemoji=""/><img class="emoji" draggable="false" alt="🎲" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3b2.svg" data-marp-twemoji=""/></h1>
<h4 id="2-signature-of-tolist"><strong>2.</strong> Signature of <code>toList</code> ?</h4>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> <span class="hljs-keyword">inline</span> toList (x, y) <span class="hljs-operator">=</span> [x; y]
</code></pre>
<ul>
<li>Returns a list with the 2 elements of the pair</li>
<li>The elements are therefore of the same type</li>
<li>There is no constraint on this type → generic <code>'a</code></li>
</ul>
<p><strong>Answer :</strong> <code>x: 'a * y: 'a -&gt; 'a list</code></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="25" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="25" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_note.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="3-1">3.</h1>
<h2 id="record-type">Record Type</h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="26" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="26" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="records-key-points">Records: key points</h1>
<blockquote>
<p>Product type with named elements called <em>fields.</em></p>
</blockquote>
<p>Alternative to tuples when they are imprecise, for instance <code>float * float</code>:</p>
<ul>
<li>Point? Coordinates? Vector?</li>
<li>Real and imaginary parts of a complex number?</li>
</ul>
<p>Eleviate the doubt by naming both the type and its elements:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> <span class="hljs-operator">=</span> { X<span class="hljs-operator">:</span> <span class="hljs-type">float</span>; Y<span class="hljs-operator">:</span> <span class="hljs-type">float</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Coordinate</span> <span class="hljs-operator">=</span> { Latitude<span class="hljs-operator">:</span> <span class="hljs-type">float</span>; Longitude<span class="hljs-operator">:</span> <span class="hljs-type">float</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ComplexNumber</span> <span class="hljs-operator">=</span> { Real<span class="hljs-operator">:</span> <span class="hljs-type">float</span>; Imaginary<span class="hljs-operator">:</span> <span class="hljs-type">float</span> }
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="27" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="27" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="records-declaration">Records: declaration</h1>
<p>Base syntax:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">RecordName</span> <span class="hljs-operator">=</span>
    { Label1<span class="hljs-operator">:</span> type1
      Label2<span class="hljs-operator">:</span> type2
      <span class="hljs-operator">...</span> }
</code></pre>
<p><img class="emoji" draggable="false" alt="☝️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> Field labels in PascalCase, not <s>camelCase</s> → see <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/style-guide/formatting#use-pascalcase-for-type-declarations-members-and-labels">MS style guide</a></p>
<p>Complete syntax:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp">[ attributes ]                                <span class="hljs-comment">// [&lt;Struct&gt;]</span>
<span class="hljs-keyword">type</span> [accessibility<span class="hljs-operator">-</span>modifier] RecordName <span class="hljs-operator">=</span>    <span class="hljs-comment">// private, internal</span>
    { [ <span class="hljs-keyword">mutable</span> ] Label1<span class="hljs-operator">:</span> type1
      [ <span class="hljs-keyword">mutable</span> ] Label2<span class="hljs-operator">:</span> type2
      <span class="hljs-operator">...</span> }
    [ <span class="hljs-keyword">member</span><span class="hljs-operator">-</span>list ]                           <span class="hljs-comment">// Properties, methods...</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="28" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="28" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-declaration-formatting-styles">Record declaration: formatting styles</h1>
<ul>
<li>Single-line: properties separated by <code>;</code></li>
<li>Multi-line: properties separated by line breaks
<ul>
<li>3 variations: <em>Cramped, Aligned, Stroustrup</em></li>
</ul>
</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// Single line</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span> { Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }

<span class="hljs-comment">// Cramped: historical ┆  // Aligned: C#-like      ┆  // Stroustrup: C++-like</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span>   ┆  <span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span>     ┆  <span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span> {
    { Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>  ┆      {                    ┆      Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
      City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>     ┆          Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>  ┆      City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
      Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }    ┆          City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>     ┆      Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
                       ┆          Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span>      ┆  }
                       ┆      }
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="29" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="29" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-styles-comparison">Record: styles comparison</h1>
<table>
<thead>
<tr>
<th>Criterion</th>
<th>Best styles <img class="emoji" draggable="false" alt="🏆" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3c6.svg" data-marp-twemoji=""/></th>
</tr>
</thead>
<tbody>
<tr>
<td>Compactness</td>
<td>Single-line, Cramped</td>
</tr>
<tr>
<td>Refacto Easiness <br /> <em>(re)indentation, fields (re)ordering</em></td>
<td>Aligned, Stroustrup</td>
</tr>
</tbody>
</table>
<p><img class="emoji" draggable="false" alt="☝️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> <strong>Recommendation:</strong> <em>Strive for Consistency</em><br />
→ Apply consistently the same multi-line style across a repository<br />
→ In addition, use the single-line style when relevant: line with &lt; 80 chars</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="30" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="30" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-styles-configuration">Record: styles configuration</h1>
<p>Fantomas configuration in the <code>.editorconfig</code> file:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-ini"><span class="hljs-attr">max_line_length</span> = <span class="hljs-number">180</span>
<span class="hljs-attr">fsharp_multiline_bracket_style</span> = cramped | aligned | stroustrup

<span class="hljs-attr">fsharp_record_multiline_formatter</span> = number_of_items
<span class="hljs-attr">fsharp_max_record_number_of_items</span> = <span class="hljs-number">3</span>
<span class="hljs-comment"># or</span>
<span class="hljs-attr">fsharp_record_multiline_formatter</span> = character_width
<span class="hljs-attr">fsharp_max_record_width</span> = <span class="hljs-number">120</span>
</code></pre>
<p><img class="emoji" draggable="false" alt="🔗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f517.svg" data-marp-twemoji=""/> <a href="https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html#fsharp_record_multiline_formatter">https://fsprojects.github.io/fantomas/docs/end-users/Configuration.html#fsharp_record_multiline_formatter</a></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="31" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="31" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-members-declaration-styles">Record members declaration styles</h1>
<p><img class="emoji" draggable="false" alt="👉" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f449.svg" data-marp-twemoji=""/> Members are declared after the fields</p>
<h4 id="single-line">Single-line</h4>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// `with` keyword required</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span> { Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> } <span class="hljs-keyword">with</span>
    <span class="hljs-keyword">member</span> x.ZipAndCity <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;<span class="hljs-subst">{x.Zip}</span> <span class="hljs-subst">{x.City}</span>&quot;</span>

<span class="hljs-comment">// Or use line breaks (recommended when &gt;= 2 members)</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span>
    { Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }

    <span class="hljs-keyword">member</span> x.ZipAndCity <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;<span class="hljs-subst">{x.Zip}</span> <span class="hljs-subst">{x.City}</span>&quot;</span>
    <span class="hljs-keyword">member</span> x.CityAndZip <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;%s<span class="hljs-subst">{x.City}</span>, %s<span class="hljs-subst">{x.Zip}</span>&quot;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="32" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="32" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-member-declaration-styles-2">Record member declaration styles (2)</h1>
<h4 id="multi-line-cramped-and-aligned">Multi-line: <em>Cramped</em> and <em>Aligned</em></h4>
<p><img class="emoji" draggable="false" alt="☝️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> 2 line breaks</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span>
    { Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
      City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
      Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }

    <span class="hljs-keyword">member</span> x.ZipAndCity <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;<span class="hljs-subst">{x.Zip}</span> <span class="hljs-subst">{x.City}</span>&quot;</span>
    <span class="hljs-keyword">member</span> x.CityAndZip <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;%s<span class="hljs-subst">{x.City}</span>, %s<span class="hljs-subst">{x.Zip}</span>&quot;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="33" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="33" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-member-declaration-styles-3">Record member declaration styles (3)</h1>
<h4 id="multi-line-stroustrup">Multi-line: <em>Stroustrup</em></h4>
<p><img class="emoji" draggable="false" alt="☝️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> <code>with</code> keyword + 1 line break + indentation</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span> {
    Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
    City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
    Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
} <span class="hljs-keyword">with</span>
    <span class="hljs-keyword">member</span> x.ZipAndCity <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;<span class="hljs-subst">{x.Zip}</span> <span class="hljs-subst">{x.City}</span>&quot;</span>
    <span class="hljs-keyword">member</span> x.CityAndZip <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;%s<span class="hljs-subst">{x.City}</span>, %s<span class="hljs-subst">{x.Zip}</span>&quot;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="34" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="34" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-expression-for-instanciation">Record expression for instanciation</h1>
<ul>
<li>Same syntax as an anonymous C♯ object without the <code>new</code> keyword</li>
<li>All fields must be populated, but in any order (but can be confusing)</li>
<li>Same possible styles: single/multi-lines</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> <span class="hljs-operator">=</span> { X<span class="hljs-operator">:</span> <span class="hljs-type">float</span>; Y<span class="hljs-operator">:</span> <span class="hljs-type">float</span> }
<span class="hljs-keyword">let</span> point1 <span class="hljs-operator">=</span> { X <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>; Y <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span> }
<span class="hljs-keyword">let</span> pointKo <span class="hljs-operator">=</span> { Y <span class="hljs-operator">=</span> <span class="hljs-number">2.0</span> }           <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0764</span>
<span class="hljs-comment">//            ~~~~~~~~~~~ FS0764: No assignment given for field &#x27;X&#x27; of type &#x27;Point&#x27;</span>
</code></pre>
<p><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> <strong>Trap:</strong> differences declaration / instanciation<br />
     → <code>:</code> for field type in record declaration<br />
     → <code>=</code> for field value in record expression</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="35" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="35" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-deconstruction">Record deconstruction</h1>
<ul>
<li>Fields are accessible by &quot;dotting&quot; into the object</li>
<li>Alternative: deconstruction
<ul>
<li>Same syntax for deconstructing a <em>Record</em> as for instantiating it <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/></li>
<li>Unused fields can be ignored <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/></li>
</ul>
</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> { X <span class="hljs-operator">=</span> x1 } <span class="hljs-operator">=</span> point1
<span class="hljs-keyword">let</span> { X <span class="hljs-operator">=</span> x2; Y <span class="hljs-operator">=</span> y2 } <span class="hljs-operator">=</span> point1
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="36" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="36" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-deconstruction-2">Record deconstruction (2)</h1>
<p><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Additional members <em>(properties)</em> cannot be deconstructed!</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span>
    {
        Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
        City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
        Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
    }
    <span class="hljs-keyword">member</span> x.CityLine <span class="hljs-operator">=</span> <span class="hljs-string">$&quot;<span class="hljs-subst">{x.Zip}</span> <span class="hljs-subst">{x.City}</span>&quot;</span>

<span class="hljs-keyword">let</span> address <span class="hljs-operator">=</span> { Address <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>; City <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Paris&quot;</span>; Zip <span class="hljs-operator">=</span> <span class="hljs-string">&quot;75001&quot;</span> }

<span class="hljs-keyword">let</span> { CityLine <span class="hljs-operator">=</span> cityLine } <span class="hljs-operator">=</span> address   <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0039</span>
<span class="hljs-comment">//    ~~~~~~~~ The record label &#x27;CityLine&#x27; is not defined</span>
<span class="hljs-keyword">let</span> cityLine <span class="hljs-operator">=</span> address.CityLine         <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44c.svg" data-marp-twemoji=""/> OK</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="37" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="37" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-inference">Record: inference</h1>
<ul>
<li>A record type can be inferred from the fields used <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/> but not with members <img class="emoji" draggable="false" alt="❗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" data-marp-twemoji=""/></li>
<li>As soon as the type is inferred, IntelliSense will work</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PostalAddress</span> <span class="hljs-operator">=</span>
    { Address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
      City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
      Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }

<span class="hljs-keyword">let</span> department address <span class="hljs-operator">=</span>
    address.Zip.Substring(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) <span class="hljs-operator">|&gt;</span> int
    <span class="hljs-comment">//     ^^^^ <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Infer that address is of type `PostalAddress`.</span>

<span class="hljs-keyword">let</span> departmentKo zip <span class="hljs-operator">=</span>
    zip.Substring(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) <span class="hljs-operator">|&gt;</span> int
<span class="hljs-comment">//  ~~~~~~~~~~~~~ Error FS0072: Lookup on object of indeterminate type</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="38" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="38" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-pattern-matching">Record: pattern matching</h1>
<p>Let's use an example: <code>inhabitantOf</code> is a function giving the inhabitants name <em>(in French)</em> at a given address <em>(in France)</em></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Address</span> <span class="hljs-operator">=</span> { Street<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; City<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Zip<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }

<span class="hljs-keyword">let</span> <span class="hljs-keyword">department</span> { Zip <span class="hljs-operator">=</span> zip } <span class="hljs-operator">=</span> int zip[<span class="hljs-number">0.</span><span class="hljs-number">.1</span>] <span class="hljs-comment">// Address -&gt; int</span>

<span class="hljs-keyword">let</span> <span class="hljs-keyword">private</span> IleDeFrance <span class="hljs-operator">=</span> Set [ <span class="hljs-number">75</span>; <span class="hljs-number">77</span>; <span class="hljs-number">78</span>; <span class="hljs-number">91</span>; <span class="hljs-number">92</span>; <span class="hljs-number">93</span>; <span class="hljs-number">94</span>; <span class="hljs-number">95</span> ]
<span class="hljs-keyword">let</span> inIleDeFrance departmentNum <span class="hljs-operator">=</span> IleDeFrance.Contains(departmentNum) <span class="hljs-comment">// int -&gt; bool</span>

<span class="hljs-keyword">let</span> inhabitantOf address <span class="hljs-operator">=</span> <span class="hljs-comment">// Address -&gt; string</span>
    <span class="hljs-keyword">match</span> address <span class="hljs-keyword">with</span>
    <span class="hljs-operator">|</span> { Street <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Pôle&quot;</span>; City <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Nord&quot;</span> } <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;Père Noël&quot;</span>
    <span class="hljs-operator">|</span> { City <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Paris&quot;</span> } <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;Parisien&quot;</span>
    <span class="hljs-operator">|</span> _ <span class="hljs-keyword">when</span> department address <span class="hljs-operator">=</span> <span class="hljs-number">78</span> <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;Yvelinois&quot;</span>
    <span class="hljs-operator">|</span> _ <span class="hljs-keyword">when</span> department address <span class="hljs-operator">|&gt;</span> inIleDeFrance <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;Francilien&quot;</span>
    <span class="hljs-operator">|</span> _ <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;Français&quot;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="39" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="39" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-name-conflict">Record: name conflict</h1>
<p>In F♯, typing is nominal, not structural as in TypeScript<br />
→ Use qualification to resolve ambiguity<br />
→ Even better: write ≠ types or put them in ≠ modules</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person1</span> <span class="hljs-operator">=</span> { First<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Last<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Person2</span> <span class="hljs-operator">=</span> { First<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Last<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }
<span class="hljs-keyword">let</span> alice <span class="hljs-operator">=</span> { First <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Alice&quot;</span>; Last <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Jones&quot;</span>}  <span class="hljs-comment">// val alice: Person2... (by proximity)</span>

<span class="hljs-comment">// <img class="emoji" draggable="false" alt="⚠" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Deconstruction</span>
<span class="hljs-keyword">let</span> { First <span class="hljs-operator">=</span> firstName } <span class="hljs-operator">=</span> alice   <span class="hljs-comment">// Warning FS0667 (in F# 6)</span>
<span class="hljs-comment">//  ~~~~~~~~~~~~~~~~~~~~~  The labels of this record do not uniquely</span>
<span class="hljs-comment">//                         determine a corresponding record type</span>

<span class="hljs-keyword">let</span> { Person2.Last <span class="hljs-operator">=</span> lastName } <span class="hljs-operator">=</span> alice     <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44c.svg" data-marp-twemoji=""/> OK with qualification</span>
<span class="hljs-keyword">let</span> { Person1.Last <span class="hljs-operator">=</span> lastName } <span class="hljs-operator">=</span> alice     <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0001</span>
<span class="hljs-comment">//                                ~~~~~ Type &#x27;Person1&#x27; expected, &#x27;Person2&#x27; given</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="40" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="40" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-modification">Record: modification</h1>
<p>Record is immutable, but easy to get a modified copy<br />
→ <strong>copy and update</strong> expression of a <em>Record</em><br />
→ use multi-line formatting for long expressions</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// Single-line</span>
<span class="hljs-keyword">let</span> address2 <span class="hljs-operator">=</span> { address <span class="hljs-keyword">with</span> Street <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Rue Vivienne&quot;</span> }

<span class="hljs-comment">// Multi-line</span>
<span class="hljs-keyword">let</span> address3 <span class="hljs-operator">=</span>
    { address <span class="hljs-keyword">with</span>
        City <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Lyon&quot;</span>
        Zip  <span class="hljs-operator">=</span> <span class="hljs-string">&quot;69001&quot;</span> }
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="41" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="41" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="record-copy-update-c%E2%99%AF--f%E2%99%AF--js">Record <em>copy-update</em>: C♯ / F♯ / JS</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-csharp"><span class="hljs-comment">// Record C♯ 9.0</span>
address <span class="hljs-keyword">with</span> { Street = <span class="hljs-string">&quot;Rue Vivienne&quot;</span> }
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// F♯ copy and update</span>
{ address <span class="hljs-keyword">with</span> Street <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Rue Vivienne&quot;</span> }
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-js"><span class="hljs-comment">// Object destructuring with spread operator</span>
{ ...address, <span class="hljs-attr">street</span>: <span class="hljs-string">&quot;Rue Vivienne&quot;</span> }
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="42" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="42" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="copy-update-limits--f-8"><em>Copy-update</em> limits (&lt; F# 8)</h1>
<p>Reduced readability with several nested levels</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Street</span> <span class="hljs-operator">=</span> { Num<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Label<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Address</span> <span class="hljs-operator">=</span> { Street<span class="hljs-operator">:</span> Street }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> <span class="hljs-operator">=</span> { Address<span class="hljs-operator">:</span> Address }

<span class="hljs-keyword">let</span> person <span class="hljs-operator">=</span> { Address <span class="hljs-operator">=</span> { Street <span class="hljs-operator">=</span> { Num <span class="hljs-operator">=</span> <span class="hljs-string">&quot;15&quot;</span>; Label <span class="hljs-operator">=</span> <span class="hljs-string">&quot;rue Neuf&quot;</span> } } }

<span class="hljs-keyword">let</span> person&#x27; <span class="hljs-operator">=</span>
    { person <span class="hljs-keyword">with</span>
        Address <span class="hljs-operator">=</span>
          { person.Address <span class="hljs-keyword">with</span>
              Street <span class="hljs-operator">=</span>
                { person.Address.Street <span class="hljs-keyword">with</span>
                    Num <span class="hljs-operator">=</span> person.Address.Street.Num <span class="hljs-operator">+</span> <span class="hljs-string">&quot; bis&quot;</span> } } }
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="43" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="43" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="copy-update--f-8-improvements"><em>Copy-update</em> : F# 8 improvements</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Street</span> <span class="hljs-operator">=</span> { Num<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Label<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Address</span> <span class="hljs-operator">=</span> { Street<span class="hljs-operator">:</span> Street }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> <span class="hljs-operator">=</span> { Address<span class="hljs-operator">:</span> Address }

<span class="hljs-keyword">let</span> person <span class="hljs-operator">=</span> { Address <span class="hljs-operator">=</span> { Street <span class="hljs-operator">=</span> { Num <span class="hljs-operator">=</span> <span class="hljs-string">&quot;15&quot;</span>; Label <span class="hljs-operator">=</span> <span class="hljs-string">&quot;rue Neuf&quot;</span> } } }

<span class="hljs-keyword">let</span> person&#x27; <span class="hljs-operator">=</span>
    { person <span class="hljs-keyword">with</span>
        Person.Address.Street.Num <span class="hljs-operator">=</span> person.Address.Street.Num <span class="hljs-operator">+</span> <span class="hljs-string">&quot; bis&quot;</span> }
</code></pre>
<p><img class="emoji" draggable="false" alt="☝️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> Usually we have to qualify the field: see <code>Person.</code></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="44" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="44" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_baseDonnees.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="4-1">4.</h1>
<h2 id="union-type">Union Type</h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="45" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="45" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-key-points">Unions: key points</h1>
<ul>
<li>Exact term: <em>Discriminated Union (DU)</em></li>
<li>Sum type: represents an <strong>OR</strong>, a <strong>choice</strong> between several <em>Cases</em>
<ul>
<li>Same principle as for an <code>enum</code>, but on steroids <img class="emoji" draggable="false" alt="💪" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4aa.svg" data-marp-twemoji=""/></li>
</ul>
</li>
<li>Each <em>case</em> must have a <em>Tag</em> <em>(a.k.a Label, Discriminator)</em></li>
<li>Each <em>case</em> <strong>may</strong> contain data
<ul>
<li>As Tuple: its elements can be named -- in camelCase <img class="emoji" draggable="false" alt="🙏" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64f.svg" data-marp-twemoji=""/></li>
</ul>
</li>
</ul>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Ticket</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Adult                  <span class="hljs-comment">// no data -&gt; ≃ singleton stateless</span>
    <span class="hljs-operator">|</span> Senior <span class="hljs-keyword">of</span> <span class="hljs-type">int</span>          <span class="hljs-comment">// holds an &#x27;int&#x27; (w/o more precision)</span>
    <span class="hljs-operator">|</span> Child <span class="hljs-keyword">of</span> age<span class="hljs-operator">:</span> <span class="hljs-type">int</span>      <span class="hljs-comment">// holds an &#x27;int&#x27; named &#x27;age&#x27;</span>
    <span class="hljs-operator">|</span> Family <span class="hljs-keyword">of</span> Ticket <span class="hljs-type">list</span>  <span class="hljs-comment">// holds a list of tickets</span>
                             <span class="hljs-comment">// recursive type by default (no &#x27;rec&#x27; keyword)</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="46" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="46" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-declaration">Unions: declaration</h1>
<p>On several lines: 1 line / <em>case</em><br />
→ <img class="emoji" draggable="false" alt="☝" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> Line indented and starting with a <code>|</code></p>
<p>On a single (short) line<br />
→ <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> No need for the 1st <code>|</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">open</span> System

<span class="hljs-keyword">type</span> <span class="hljs-title class_">IntOrBool</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Int32 <span class="hljs-keyword">of</span> Int32                        <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Tag with the same name as the data</span>
    <span class="hljs-operator">|</span> Boolean <span class="hljs-keyword">of</span> Boolean

<span class="hljs-keyword">type</span> <span class="hljs-title class_">OrderId</span> <span class="hljs-operator">=</span> OrderId <span class="hljs-keyword">of</span> <span class="hljs-type">int</span>               <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👈" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f448.svg" data-marp-twemoji=""/> Single-case union</span>
                                            <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Tag with the same name as the parent union</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Found</span><span class="hljs-operator">&lt;</span><span class="hljs-symbol">&#x27;T</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">=</span> Found <span class="hljs-keyword">of</span> <span class="hljs-symbol">&#x27;T</span> <span class="hljs-operator">|</span> NotFound     <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Generic union type (no auto generalization)</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="47" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="47" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-declaration-2">Unions declaration (2)</h1>
<p><em>Cases</em> can be used without <strong>qualification</strong>: <code>Int32</code> <em>vs</em> <code>IntOrBool.Int32</code></p>
<p>Qualification can be forced with <code>RequireQualifiedAccess</code> attribute:<br />
• Cases using common terms (e.g. <code>None</code>) → to avoid name collision<br />
• Cases names are designed to read better/more explicitly with qualification</p>
<p><em>Cases</em> must be named in <strong>PascalCase</strong> <img class="emoji" draggable="false" alt="❗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" data-marp-twemoji=""/><br />
• Since F# 7.0, camelCase is allowed for <code>RequireQualifiedAccess</code> unions <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="48" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="48" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-declaration-3">Unions declaration (3)</h1>
<p><strong>Field labels</strong> are helpful for:</p>
<p>• Adding meaning to a primitive type:<br />
  → See <code>Ticket</code> previous example: <code>Senior of int</code> vs <code>Child of age: int</code><br />
• Distinguish between two fields of the same type<br />
  → See example below:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ComplexNumber</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Cartesian <span class="hljs-keyword">of</span> Real<span class="hljs-operator">:</span> <span class="hljs-type">float</span> <span class="hljs-operator">*</span> Imaginary<span class="hljs-operator">:</span> <span class="hljs-type">float</span>
    <span class="hljs-operator">|</span> Polar <span class="hljs-keyword">of</span> Magnitude<span class="hljs-operator">:</span> <span class="hljs-type">float</span> <span class="hljs-operator">*</span> Phase<span class="hljs-operator">:</span> <span class="hljs-type">float</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="49" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="49" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-instanciation">Unions: instanciation</h1>
<p><em>Case</em> ≃ <strong>constructor</strong><br />
→ Function called with any <em>case</em> data</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Circle <span class="hljs-keyword">of</span> radius<span class="hljs-operator">:</span> <span class="hljs-type">int</span>
    <span class="hljs-operator">|</span> Rectangle <span class="hljs-keyword">of</span> width<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">*</span> height<span class="hljs-operator">:</span> <span class="hljs-type">int</span>

<span class="hljs-keyword">let</span> circle <span class="hljs-operator">=</span> Circle <span class="hljs-number">12</span>         <span class="hljs-comment">// Type: &#x27;Shape&#x27;, Value: &#x27;Circle 12&#x27;</span>
<span class="hljs-keyword">let</span> rect <span class="hljs-operator">=</span> Rectangle(<span class="hljs-number">4</span>, <span class="hljs-number">3</span>)     <span class="hljs-comment">// Type: &#x27;Shape&#x27;, Value: &#x27;Rectangle (4, 3)&#x27;</span>

<span class="hljs-keyword">let</span> circles <span class="hljs-operator">=</span> [<span class="hljs-number">1.</span><span class="hljs-number">.4</span>] <span class="hljs-operator">|&gt;</span> List.map Circle     <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👈" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f448.svg" data-marp-twemoji=""/> Case used as function</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="50" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="50" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-name-conflict">Unions: name conflict</h1>
<p>When 2 unions have tags with the same name<br />
→ Qualify the tag with the union name</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Circle <span class="hljs-keyword">of</span> radius<span class="hljs-operator">:</span> <span class="hljs-type">int</span>
    <span class="hljs-operator">|</span> Rectangle <span class="hljs-keyword">of</span> width<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">*</span> height<span class="hljs-operator">:</span> <span class="hljs-type">int</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Draw</span> <span class="hljs-operator">=</span> Line <span class="hljs-operator">|</span> Circle    <span class="hljs-comment">// &#x27;Circle&#x27; will conflict with the &#x27;Shape&#x27; tag</span>

<span class="hljs-keyword">let</span> draw <span class="hljs-operator">=</span> Circle            <span class="hljs-comment">// Type=&#x27;Draw&#x27; (closest type) -- <img class="emoji" draggable="false" alt="⚠" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> to be avoided as ambiguous</span>

<span class="hljs-comment">// Tags qualified by their union type</span>
<span class="hljs-keyword">let</span> shape <span class="hljs-operator">=</span> Shape.Circle <span class="hljs-number">12</span>
<span class="hljs-keyword">let</span> draw&#x27; <span class="hljs-operator">=</span> Draw.Circle
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="51" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="51" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-get-the-data-out">Unions: get the data out</h1>
<p>• Only via <em>pattern matching</em>.<br />
• Matching a union type is <strong>exhaustive</strong>.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Circle <span class="hljs-keyword">of</span> radius<span class="hljs-operator">:</span> <span class="hljs-type">float</span>
    <span class="hljs-operator">|</span> Rectangle <span class="hljs-keyword">of</span> width<span class="hljs-operator">:</span> <span class="hljs-type">float</span> <span class="hljs-operator">*</span> height<span class="hljs-operator">:</span> <span class="hljs-type">float</span>

<span class="hljs-keyword">let</span> area shape <span class="hljs-operator">=</span>
    <span class="hljs-keyword">match</span> shape <span class="hljs-keyword">with</span>
    <span class="hljs-operator">|</span> Circle r <span class="hljs-operator">-&gt;</span> Math.PI <span class="hljs-operator">*</span> r <span class="hljs-operator">*</span> r   <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Same syntax as instantiation</span>
    <span class="hljs-operator">|</span> Rectangle (w, h) <span class="hljs-operator">-&gt;</span> w <span class="hljs-operator">*</span> h

<span class="hljs-keyword">let</span> isFlat <span class="hljs-operator">=</span> <span class="hljs-keyword">function</span>
    <span class="hljs-operator">|</span> Circle <span class="hljs-number">0.</span>
    <span class="hljs-operator">|</span> Rectangle (<span class="hljs-number">0.</span>, _)
    <span class="hljs-operator">|</span> Rectangle (_, <span class="hljs-number">0.</span>) <span class="hljs-operator">-&gt;</span> <span class="hljs-literal">true</span>
    <span class="hljs-operator">|</span> Circle _
    <span class="hljs-operator">|</span> Rectangle _ <span class="hljs-operator">-&gt;</span> <span class="hljs-literal">false</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="52" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="52" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="single-case-unions">Single-case unions</h1>
<p>Unions with a single case encapsulating a type (usually primitive)</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">CustomerId</span> <span class="hljs-operator">=</span> CustomerId <span class="hljs-keyword">of</span> <span class="hljs-type">int</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OrderId</span> <span class="hljs-operator">=</span> OrderId <span class="hljs-keyword">of</span> <span class="hljs-type">int</span>

<span class="hljs-keyword">let</span> fetchOrder (OrderId orderId) <span class="hljs-operator">=</span>    <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Direct deconstruction without &#x27;match&#x27; expression</span>
    <span class="hljs-operator">...</span>
</code></pre>
<ul>
<li><strong>Benefits</strong> <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/>
<ul>
<li>Ensures <em>type safety</em> unlike simple type alias <br />      → Impossible to pass a <code>CustomerId</code> to a function waiting for an <code>OrderId</code></li>
<li>Prevents <em>Primitive Obsession</em> at a minimal cost</li>
</ul>
</li>
<li><strong>Trap</strong> <img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/>
<ul>
<li><code>OrderId orderId</code> looks like C# parameter definition</li>
</ul>
</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="53" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="53" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-style-unions">Enum style unions</h1>
<p>All <em>cases</em> are empty = devoid of data<br />
→ ≠ .NET <code>enum</code> based on numeric values <img class="emoji" draggable="false" alt="📍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cd.svg" data-marp-twemoji=""/></p>
<p>Instantiation and pattern matching are done just with the <em>Case</em>.<br />
→ The <em>Case</em> is no longer a <s>function</s> but a <em>singleton</em> value.</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Answer</span> <span class="hljs-operator">=</span> Yes <span class="hljs-operator">|</span> No <span class="hljs-operator">|</span> Maybe
<span class="hljs-keyword">let</span> answer <span class="hljs-operator">=</span> Yes

<span class="hljs-keyword">let</span> print answer <span class="hljs-operator">=</span>
    <span class="hljs-keyword">match</span> answer <span class="hljs-keyword">with</span>
    <span class="hljs-operator">|</span> Yes   <span class="hljs-operator">-&gt;</span> <span class="hljs-built_in">printfn</span> <span class="hljs-string">&quot;Oui&quot;</span>
    <span class="hljs-operator">|</span> No    <span class="hljs-operator">-&gt;</span> <span class="hljs-built_in">printfn</span> <span class="hljs-string">&quot;Non&quot;</span>
    <span class="hljs-operator">|</span> Maybe <span class="hljs-operator">-&gt;</span> <span class="hljs-built_in">printfn</span> <span class="hljs-string">&quot;Peut-être&quot;</span>
</code></pre>
<p><img class="emoji" draggable="false" alt="🔗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f517.svg" data-marp-twemoji=""/> <a href="https://fsharpforfunandprofit.com/posts/fsharp-decompiled/#enum-style-unions">“Enum” style unions | F# for fun and profit</a></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="54" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="54" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="unions-is-properties">Unions .Is* properties</h1>
<p>The compiler generates <code>.Is{Case}</code> properties for each case in a union<br />
• Before F♯ 9: not accessible + we cannot add them manually <img class="emoji" draggable="false" alt="😒" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f612.svg" data-marp-twemoji=""/><br />
• Since F♯ 9: accessible <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Contact</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Email <span class="hljs-keyword">of</span> address<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
    <span class="hljs-operator">|</span> Phone <span class="hljs-keyword">of</span> countryCode<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">*</span> number<span class="hljs-operator">:</span> <span class="hljs-type">string</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> <span class="hljs-operator">=</span> { Name<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Contact<span class="hljs-operator">:</span> Contact }

<span class="hljs-keyword">let</span> canSendEmailTo person <span class="hljs-operator">=</span>  <span class="hljs-comment">// Person -&gt; bool</span>
    person.Contact.IsEmail   <span class="hljs-comment">// `.IsEmail` is auto-generated</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="55" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="55" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="union-fp-vs-object-hierarchy-oop">Union (FP) <em>vs</em> Object Hierarchy (OOP)</h1>
<p><img class="emoji" draggable="false" alt="👉" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f449.svg" data-marp-twemoji=""/> A union can usually replace a small <em>object hierarchy.</em></p>
<h3 id="explanations">Explanations</h3>
<p>Behaviors/operations implementation:<br />
• <strong>OO:</strong> <em>virtual methods</em> in separated classes<br />
• <strong>FP:</strong> <em>functions</em> relying on <strong>pattern matchings</strong><br />
   → exhaustivity<br />
   → avoid duplication by grouping cases<br />
   → improve readability by flattening split cases in a single <code>match..with</code></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="56" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="56" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="fp-vs-oop">FP <em>vs</em> OOP</h1>
<p><strong>How we reason about the code</strong> <em>(at both design and reading time)</em><br />
• <strong>FP: by functions</strong> → how an operation is performed for the different cases<br />
• <strong>OOP: by objects</strong> → how all operations are performed for a single case</p>
<p><strong>Abstraction</strong><br />
• Objects are more abstract than functions<br />
• Good abstraction is difficult to design<br />
• The more abstract a thing is, the more stable it should be</p>
<p><strong><img class="emoji" draggable="false" alt="👉" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f449.svg" data-marp-twemoji=""/> FP is usually easier to write, to understand, to evolve</strong></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="57" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="57" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="fp-vs-oop-open-closed-principle">FP <em>vs</em> OOP: Open-Closed Principle</h1>
<p>It's easier to extend what's <strong>Open.</strong></p>
<p><strong>OOP:</strong> open hierarchy, closed operations<br />
→ Painful to add an operation: in all classes <img class="emoji" draggable="false" alt="😓" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f613.svg" data-marp-twemoji=""/><br />
→ Easy to add a class in the hierarchy <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/></p>
<p><strong>FP:</strong> open operations, closed cases<br />
→ Easy to add an operation <img class="emoji" draggable="false" alt="👍" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44d.svg" data-marp-twemoji=""/><br />
→ Painful to add a case: in all functions <img class="emoji" draggable="false" alt="😓" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f613.svg" data-marp-twemoji=""/><br />
   • Still, it's usually easier in F♯: only 1 file to change</p>
<p>Adding a class = new concept in the domain → always tricky <img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/><br />
Adding an operation = new behavior for the existing domain concepts</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="58" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="58" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_innovation.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="5-1">5.</h1>
<h2 id="enum-type">Enum Type</h2>
<p>Real .NET <code>enum</code></p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="59" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="59" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-declaration">Enum: declaration</h1>
<p>Set of integer constants (<code>byte</code>, <code>int</code>...) or <code>char</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ColorN</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Red   <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    <span class="hljs-operator">|</span> Green <span class="hljs-operator">=</span> <span class="hljs-number">2</span>
    <span class="hljs-operator">|</span> Blue  <span class="hljs-operator">=</span> <span class="hljs-number">3</span>
</code></pre>
<p><img class="emoji" draggable="false" alt="☝️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> Note the syntax difference with a enum-like union:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Color</span> <span class="hljs-operator">=</span> Red <span class="hljs-operator">|</span> Green <span class="hljs-operator">|</span> Blue
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="60" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="60" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-underlying-type">Enum: underlying type</h1>
<p>The underlying type is defined by means of literals defining member values:<br />
• <code>1</code>, <code>2</code>, <code>3</code> → <code>int</code><br />
• <code>1uy</code>, <code>2uy</code>, <code>3uy</code> → <code>byte</code><br />
• Etc. - see <a href="https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/literals">Literals</a></p>
<p>→ Same type required for all members:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ColorN</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Red   <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    <span class="hljs-operator">|</span> Green <span class="hljs-operator">=</span> <span class="hljs-number">2</span>
    <span class="hljs-operator">|</span> Blue  <span class="hljs-operator">=</span> <span class="hljs-number">3</span>uy
<span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/>         ~~~</span>
<span class="hljs-comment">// This expression was expected to have type &#x27;int&#x27; but here has type &#x27;byte&#x27;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="61" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="61" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-char-based">Enum: char based</h1>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Enum can be based on <code>char</code> but not on <code>string</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">AnswerChar</span> <span class="hljs-operator">=</span> Yes<span class="hljs-operator">=</span><span class="hljs-string">&#x27;Y&#x27;</span> <span class="hljs-operator">|</span> No<span class="hljs-operator">=</span><span class="hljs-string">&#x27;N&#x27;</span>  <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">AnswerStringKo</span> <span class="hljs-operator">=</span> Yes<span class="hljs-operator">=</span><span class="hljs-string">&quot;Y&quot;</span> <span class="hljs-operator">|</span> No<span class="hljs-operator">=</span><span class="hljs-string">&quot;N&quot;</span>  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0951</span>
<span class="hljs-comment">// Literal enumerations must have type int, uint, int16, uint16, int64, uint64, byte, sbyte or char</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="62" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="62" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-members-naming">Enum members naming</h1>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Enum members can be in <strong>camelCase</strong></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">File</span> <span class="hljs-operator">=</span> a<span class="hljs-operator">=</span><span class="hljs-string">&#x27;a&#x27;</span> <span class="hljs-operator">|</span> b<span class="hljs-operator">=</span><span class="hljs-string">&#x27;b&#x27;</span> <span class="hljs-operator">|</span> c<span class="hljs-operator">=</span><span class="hljs-string">&#x27;c&#x27;</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="63" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="63" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-usages">Enum: usages</h1>
<p><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Unlike unions, the use of an <code>enum</code> literal is necessarily <strong>qualified</strong></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">AnswerChar</span> <span class="hljs-operator">=</span> Yes<span class="hljs-operator">=</span><span class="hljs-string">&#x27;Y&#x27;</span> <span class="hljs-operator">|</span> No<span class="hljs-operator">=</span><span class="hljs-string">&#x27;N&#x27;</span>

<span class="hljs-keyword">let</span> answerKo <span class="hljs-operator">=</span> Yes  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0039</span>
<span class="hljs-comment">//             ~~~     The value or constructor &#x27;Yes&#x27; is not defined.</span>

<span class="hljs-keyword">let</span> answer <span class="hljs-operator">=</span> AnswerChar.Yes   <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f44c.svg" data-marp-twemoji=""/> OK</span>
</code></pre>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> We can force the qualification for union types too:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-meta">[&lt;RequireQualifiedAccess&gt;]</span> <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👈" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f448.svg" data-marp-twemoji=""/></span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color</span> <span class="hljs-operator">=</span> Red <span class="hljs-operator">|</span> Green <span class="hljs-operator">|</span> Blue
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="64" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="64" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-matching">Enum: matching</h1>
<p><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Unlike unions, <em>pattern matching</em> on enums is <strong>not exhaustive</strong><br />
→ See <code>Warning FS0104: Enums may take values outside known cases...</code></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ColorN</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Red   <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    <span class="hljs-operator">|</span> Green <span class="hljs-operator">=</span> <span class="hljs-number">2</span>
    <span class="hljs-operator">|</span> Blue  <span class="hljs-operator">=</span> <span class="hljs-number">3</span>

<span class="hljs-keyword">let</span> toHex color <span class="hljs-operator">=</span>
    <span class="hljs-keyword">match</span> color <span class="hljs-keyword">with</span>
    <span class="hljs-operator">|</span> ColorN.Red   <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;#FF0000&quot;</span>
    <span class="hljs-operator">|</span> ColorN.Green <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;#00FF00&quot;</span>
    <span class="hljs-operator">|</span> ColorN.Blue  <span class="hljs-operator">-&gt;</span> <span class="hljs-string">&quot;#0000FF&quot;</span>
    <span class="hljs-operator">|</span> _ <span class="hljs-operator">-&gt;</span> <span class="hljs-built_in">invalidArg</span> (<span class="hljs-built_in">nameof</span> color) <span class="hljs-string">$&quot;Color <span class="hljs-subst">{color}</span> not supported&quot;</span> <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👈" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f448.svg" data-marp-twemoji=""/></span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="65" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="65" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-flags">Enum: flags</h1>
<p>Same principle as in C♯:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">open</span> System

<span class="hljs-meta">[&lt;Flags&gt;]</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PermissionFlags</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Read    <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    <span class="hljs-operator">|</span> Write   <span class="hljs-operator">=</span> <span class="hljs-number">2</span>
    <span class="hljs-operator">|</span> Execute <span class="hljs-operator">=</span> <span class="hljs-number">4</span>

<span class="hljs-keyword">let</span> permission <span class="hljs-operator">=</span> PermissionFlags.Read <span class="hljs-operator">|||</span> PermissionFlags.Write

<span class="hljs-keyword">let</span> canRead <span class="hljs-operator">=</span> permission.HasFlag PermissionFlags.Read
</code></pre>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Note the <code>|||</code> operator called &quot;binary OR&quot; (same as <code>|</code> in C♯)</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="66" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="66" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="enum-flags-binary-notation">Enum flags: binary notation</h2>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> <strong>Hint:</strong> use binary notation for flag values:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-meta">[&lt;Flags&gt;]</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PermissionFlags</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Read    <span class="hljs-operator">=</span> <span class="hljs-number">0b001</span>
    <span class="hljs-operator">|</span> Write   <span class="hljs-operator">=</span> <span class="hljs-number">0b010</span>
    <span class="hljs-operator">|</span> Execute <span class="hljs-operator">=</span> <span class="hljs-number">0b100</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="67" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="67" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-values">Enum: values</h1>
<p><code>System.Enum.GetValues()</code> returns the list of members of an <code>enum</code><br />
<img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Weakly typed: <code>Array</code> (non-generic array)<br />
<img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Use a helper like:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> enumValues<span class="hljs-operator">&lt;</span><span class="hljs-symbol">&#x27;a</span><span class="hljs-operator">&gt;</span> () <span class="hljs-operator">=</span>
    Enum.GetValues(<span class="hljs-built_in">typeof</span><span class="hljs-operator">&lt;</span><span class="hljs-symbol">&#x27;a</span><span class="hljs-operator">&gt;</span>)
    <span class="hljs-operator">:?&gt;</span> (<span class="hljs-symbol">&#x27;a</span> array)
    <span class="hljs-operator">|&gt;</span> Array.toList

<span class="hljs-keyword">let</span> allPermissions <span class="hljs-operator">=</span> enumValues<span class="hljs-operator">&lt;</span>PermissionFlags<span class="hljs-operator">&gt;</span>()
<span class="hljs-comment">// val allPermissions: PermissionFlags list = [Read; Write; Execute]</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="68" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="68" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-conversion">Enum: conversion</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> redValue <span class="hljs-operator">=</span> int ColorN.Red         <span class="hljs-comment">// enum -&gt; int</span>
<span class="hljs-keyword">let</span> redAgain <span class="hljs-operator">=</span> <span class="hljs-built_in">enum</span><span class="hljs-operator">&lt;</span>ColorN<span class="hljs-operator">&gt;</span> redValue  <span class="hljs-comment">// int -&gt; enum</span>
<span class="hljs-keyword">let</span> red<span class="hljs-operator">:</span> ColorN <span class="hljs-operator">=</span> <span class="hljs-built_in">enum</span> redValue       <span class="hljs-comment">// int -&gt; enum</span>

<span class="hljs-comment">// <img class="emoji" draggable="false" alt="⚠" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Use LanguagePrimitives for char enum</span>
<span class="hljs-keyword">let</span> n<span class="hljs-operator">:</span> AnswerChar <span class="hljs-operator">=</span> LanguagePrimitives.EnumOfValue <span class="hljs-string">&#x27;N&#x27;</span> <span class="hljs-comment">// char -&gt; enum</span>
<span class="hljs-keyword">let</span> y <span class="hljs-operator">=</span> LanguagePrimitives.EnumToValue AnswerChar.Yes  <span class="hljs-comment">// enum -&gt; char</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="69" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="69" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-vs-union">Enum <em>vs</em> Union</h1>
<table>
<thead>
<tr>
<th>Type</th>
<th>Data inside</th>
<th>Qualification</th>
<th>Exhaustivity</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enum</td>
<td>integers</td>
<td>Required</td>
<td><img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/> No</td>
</tr>
<tr>
<td>Union</td>
<td>any</td>
<td>Optional</td>
<td><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> Yes</td>
</tr>
</tbody>
</table>
<p><img class="emoji" draggable="false" alt="☝" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/261d.svg" data-marp-twemoji=""/> <strong>Recommendation:</strong></p>
<ul>
<li>Prefer Union over Enum in most cases</li>
<li>Choose an Enum for:
<ul>
<li>.NET Interop</li>
<li>int data</li>
<li>Flags feature</li>
</ul>
</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="70" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="70" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="enum-fsharpxextras">Enum: FSharpx.Extras</h1>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> NuGet package <a href="https://github.com/fsprojects/FSharpx.Extras">FSharpx.Extras</a><br />
→ Includes an <code>Enum</code> module with these helpers:</p>
<ul>
<li><code>parse&lt;'enum&gt;: string -&gt; 'enum</code></li>
<li><code>tryParse&lt;'enum&gt;: string -&gt; 'enum option</code></li>
<li><code>getValues&lt;'enum&gt;: unit -&gt; 'enum seq</code></li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="71" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="71" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_rechercheProfil.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="6-1">6.</h1>
<h2 id="anonymous-record">Anonymous Record</h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="72" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="72" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="anonymous-record-1">Anonymous Record</h1>
<ul>
<li>Since F♯ 4.6 <em>(March 2019)</em></li>
<li>Syntax: same as <em>Record</em> with &quot;fat&quot; braces <code>{| fields |}</code>
<ul>
<li><code>{| Age: int |}</code> → signature</li>
<li><code>{| Age = 15 |}</code> → instance</li>
</ul>
</li>
<li>Inline typing: no need to pre-define a named <code>type</code>
<ul>
<li>Alternative to <em>Tuples</em></li>
</ul>
</li>
<li>Allowed in function input/output
<ul>
<li>≠ Anonymous type C♯</li>
</ul>
</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="73" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="73" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="anonymous-record--benefits-%E2%9C%85">Anonymous Record : benefits <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></h1>
<p>• Reduce <em>boilerplate</em><br />
• Improve interop with external systems (JavaScript, SQL...)</p>
<p>Examples <em>(more on this later)</em> :</p>
<ul>
<li>LINQ projection</li>
<li>Customization of an existing record</li>
<li>JSON serialization</li>
<li>Inline signature</li>
<li>Alias by module</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="74" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="74" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="%E2%9C%85-linq-projection"><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> LINQ Projection</h2>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Select a subset of properties</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> names <span class="hljs-operator">=</span>
    <span class="hljs-keyword">query</span> {
        <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> persons <span class="hljs-keyword">do</span>
        <span class="hljs-keyword">select</span> {<span class="hljs-operator">|</span> Name <span class="hljs-operator">=</span> p.FirstName <span class="hljs-operator">|</span>}
    }
</code></pre>
<p>In C♯, we would use an anonymous type:</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-csharp"><span class="hljs-keyword">var</span> names =
    <span class="hljs-keyword">from</span> p <span class="hljs-keyword">in</span> persons
    <span class="hljs-keyword">select</span> <span class="hljs-keyword">new</span> { Name = p.FirstName };
</code></pre>
<p><img class="emoji" draggable="false" alt="🔗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f517.svg" data-marp-twemoji=""/> <a href="https://queil.net/2019/10/fsharp-vs-csharp-anonymous-records/">F# vs C#: Anonymous Records</a> by Krzysztof Kraszewski</p>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="75" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="75" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="%E2%9C%85-customize-an-existing-record"><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> Customize an existing record</h2>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> An anonymous record can be instantiated from a record instance</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> <span class="hljs-operator">=</span> { Age<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Name<span class="hljs-operator">:</span> <span class="hljs-type">string</span> }
<span class="hljs-keyword">let</span> william <span class="hljs-operator">=</span> { Age <span class="hljs-operator">=</span> <span class="hljs-number">12</span>; Name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;William&quot;</span> }

<span class="hljs-comment">// Add a field (Gender)</span>
<span class="hljs-keyword">let</span> william&#x27; <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> william <span class="hljs-keyword">with</span> Gender <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Male&quot;</span> <span class="hljs-operator">|</span>}
            <span class="hljs-comment">// {| Age = 12; Name = &quot;William&quot;; Gender = &quot;Male&quot; |}</span>

<span class="hljs-comment">// Modify fields (Name, Age: int =&gt; float)</span>
<span class="hljs-keyword">let</span> jack <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> william&#x27; <span class="hljs-keyword">with</span> Name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Jack&quot;</span>; Age <span class="hljs-operator">=</span> <span class="hljs-number">16.5</span> <span class="hljs-operator">|</span>}
        <span class="hljs-comment">// {| Age = 16.5; Name = &quot;Jack&quot;; Gender = &quot;Male&quot; |}</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="76" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="76" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="%E2%9C%85-json-serialization-issue"><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> JSON serialization: issue</h2>
<p><img class="emoji" draggable="false" alt="😕" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f615.svg" data-marp-twemoji=""/> Unions can be serialized in an impractical format</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-meta">#r</span> <span class="hljs-string">&quot;nuget: Newtonsoft.Json&quot;</span>
<span class="hljs-keyword">let</span> serialize obj <span class="hljs-operator">=</span> Newtonsoft.Json.JsonConvert.SerializeObject obj

<span class="hljs-keyword">type</span> <span class="hljs-title class_">CustomerId</span> <span class="hljs-operator">=</span> CustomerId <span class="hljs-keyword">of</span> <span class="hljs-type">int</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Customer</span> <span class="hljs-operator">=</span> { Id<span class="hljs-operator">:</span> CustomerId; Age<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Name<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Title<span class="hljs-operator">:</span> <span class="hljs-type">string</span> <span class="hljs-type">option</span> }

<span class="hljs-keyword">serialize</span> { Id <span class="hljs-operator">=</span> CustomerId <span class="hljs-number">1</span>; Age <span class="hljs-operator">=</span> <span class="hljs-number">23</span>; Name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Abc&quot;</span>; Title <span class="hljs-operator">=</span> <span class="hljs-literal">Some</span> <span class="hljs-string">&quot;Mr&quot;</span> }
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;Id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;Case&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;CustomerId&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;Fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-number">1</span> <span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👀" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f440.svg" data-marp-twemoji=""/></span>
  <span class="hljs-attr">&quot;Age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">23</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;Name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Abc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;Title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">&quot;Case&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Some&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">&quot;Fields&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-string">&quot;Mr&quot;</span> <span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span>  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👀" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f440.svg" data-marp-twemoji=""/></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="77" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="77" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="%E2%9C%85-json-serialization-solution"><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> JSON serialization: solution</h2>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Define an anonymous record to serialize a <em>customer</em></p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">let</span> serialisable customer <span class="hljs-operator">=</span>
    <span class="hljs-keyword">let</span> (CustomerId customerId) <span class="hljs-operator">=</span> customer.Id
    {<span class="hljs-operator">|</span> customer <span class="hljs-keyword">with</span>
         Id <span class="hljs-operator">=</span> customerId
         Title <span class="hljs-operator">=</span> customer.Title <span class="hljs-operator">|&gt;</span> Option.toObj <span class="hljs-operator">|</span>}

serialize (<span class="hljs-keyword">serialisable</span> { Id <span class="hljs-operator">=</span> CustomerId <span class="hljs-number">1</span>; Age <span class="hljs-operator">=</span> <span class="hljs-number">23</span>; Name <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Abc&quot;</span>; Title <span class="hljs-operator">=</span> <span class="hljs-literal">Some</span> <span class="hljs-string">&quot;Mr&quot;</span> })
</code></pre>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;Id&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></span>
  <span class="hljs-attr">&quot;Age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">23</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;Name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Abc&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;Title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Mr&quot;</span>  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="78" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="78" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h2 id="%E2%9C%85-signature-inline"><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> Signature <em>inline</em></h2>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Use an anonymous <em>inline</em> record to reduce cognitive load</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Title</span> <span class="hljs-operator">=</span> Mr <span class="hljs-operator">|</span> Mrs
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Customer</span> <span class="hljs-operator">=</span>
    { Age  <span class="hljs-operator">:</span> <span class="hljs-type">int</span>
      Name <span class="hljs-operator">:</span> {<span class="hljs-operator">|</span> First<span class="hljs-operator">:</span> <span class="hljs-type">string</span>; Middle<span class="hljs-operator">:</span> <span class="hljs-type">string</span> <span class="hljs-type">option</span>; Last<span class="hljs-operator">:</span> <span class="hljs-type">string</span> <span class="hljs-operator">|</span>} <span class="hljs-comment">// <img class="emoji" draggable="false" alt="👈" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f448.svg" data-marp-twemoji=""/></span>
      Title<span class="hljs-operator">:</span> Title <span class="hljs-type">option</span> }
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="79" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="79" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="anonymous-record-limits-%F0%9F%9B%91">Anonymous Record: Limits <img class="emoji" draggable="false" alt="🛑" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f6d1.svg" data-marp-twemoji=""/></h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// No inference from field usage</span>
<span class="hljs-keyword">let</span> nameKo x <span class="hljs-operator">=</span> x.Name  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0072: Lookup on object of indeterminate type...</span>
<span class="hljs-keyword">let</span> nameOk (x<span class="hljs-operator">:</span> {<span class="hljs-operator">|</span> Name<span class="hljs-operator">:</span><span class="hljs-type">string</span> <span class="hljs-operator">|</span>}) <span class="hljs-operator">=</span> x.Name

<span class="hljs-comment">// No deconstruction</span>
<span class="hljs-keyword">let</span> x <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> Age <span class="hljs-operator">=</span> <span class="hljs-number">42</span> <span class="hljs-operator">|</span>}
<span class="hljs-keyword">let</span> {  Age <span class="hljs-operator">=</span> age  } <span class="hljs-operator">=</span> x  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0039: The record label &#x27;Age&#x27; is not defined</span>
<span class="hljs-keyword">let</span> {<span class="hljs-operator">|</span> Age <span class="hljs-operator">=</span> age <span class="hljs-operator">|</span>} <span class="hljs-operator">=</span> x  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0010: Unexpected symbol &#x27;{|&#x27; in let binding</span>

<span class="hljs-comment">// No full objects merge</span>
<span class="hljs-keyword">let</span> banana <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> Fruit <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Banana&quot;</span> <span class="hljs-operator">|</span>}
<span class="hljs-keyword">let</span> yellow <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> Color <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Yellow&quot;</span> <span class="hljs-operator">|</span>}
<span class="hljs-keyword">let</span> banYelKo <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> banana <span class="hljs-keyword">with</span> yellow <span class="hljs-operator">|</span>} <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> Error FS0609...</span>
<span class="hljs-keyword">let</span> banYelOk <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> banana <span class="hljs-keyword">with</span> Color <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Yellow&quot;</span> <span class="hljs-operator">|</span>}

<span class="hljs-comment">// No omissions</span>
<span class="hljs-keyword">let</span> ko <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> banYelOk without Color <span class="hljs-operator">|</span>}  <span class="hljs-comment">// <img class="emoji" draggable="false" alt="💥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a5.svg" data-marp-twemoji=""/> No &#x27;without&#x27; keyword</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="80" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="80" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_entretien.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="7-1">7.</h1>
<h2 id="value-types">Value Types</h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="81" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="81" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="struct-f%E2%99%AF-types">Struct F♯ Types</h1>
<ul>
<li>Regular tuple/record/union are reference-types</li>
<li>Possible to get them as value-types
<ul>
<li>Instances stored on the <em>Stack</em> rather than in the <em>Heap</em></li>
<li>Records, Unions: <code>[&lt;Struct&gt;]</code> attribute</li>
<li>Tuples, Anonymous Records: <code>struct</code> keyword</li>
</ul>
</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="82" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="82" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="struct-tuples--anonymous-records">Struct tuples &amp; anonymous records</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// Struct tuple</span>
<span class="hljs-keyword">let</span> a <span class="hljs-operator">=</span> <span class="hljs-keyword">struct</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&quot;Three&quot;</span>) <span class="hljs-comment">// struct (int * char * string)</span>

<span class="hljs-comment">// Struct anonymous record</span>
<span class="hljs-keyword">let</span> b <span class="hljs-operator">=</span> <span class="hljs-keyword">struct</span> {<span class="hljs-operator">|</span> Num <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; Char <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;b&#x27;</span>; Text <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Three&quot;</span> <span class="hljs-operator">|</span>}
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="83" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="83" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="struct-records--unions">Struct records &amp; unions</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// Struct record</span>
<span class="hljs-meta">[&lt;Struct&gt;]</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> <span class="hljs-operator">=</span> { X<span class="hljs-operator">:</span> <span class="hljs-type">float</span>; Y<span class="hljs-operator">:</span> <span class="hljs-type">float</span> }
<span class="hljs-keyword">let</span> p <span class="hljs-operator">=</span> { X <span class="hljs-operator">=</span> <span class="hljs-number">1.0</span>; Y <span class="hljs-operator">=</span> <span class="hljs-number">2.3</span> } <span class="hljs-comment">// val p: Point = { X = 1.0; Y = 2.3 }</span>

<span class="hljs-comment">// Struct union: unique fields labels are required<img class="emoji" draggable="false" alt="❗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" data-marp-twemoji=""/></span>
<span class="hljs-meta">[&lt;Struct&gt;]</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Multicase</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> Int  <span class="hljs-keyword">of</span> i<span class="hljs-operator">:</span> <span class="hljs-type">int</span>
    <span class="hljs-operator">|</span> Char <span class="hljs-keyword">of</span> c<span class="hljs-operator">:</span> <span class="hljs-type">char</span>
    <span class="hljs-operator">|</span> Text <span class="hljs-keyword">of</span> s<span class="hljs-operator">:</span> <span class="hljs-type">string</span>
<span class="hljs-keyword">let</span> t <span class="hljs-operator">=</span> Int <span class="hljs-number">1</span> <span class="hljs-comment">// val t: Multicase = Int 1</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="84" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="84" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="struct-recommendations">Struct: recommendations</h1>
<p><img class="emoji" draggable="false" alt="⚖️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2696.svg" data-marp-twemoji=""/> <strong>Pros/Cons:</strong></p>
<ul>
<li><img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> Efficient because no <em>garbage collection</em></li>
<li><img class="emoji" draggable="false" alt="⚠️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> Passed by value → memory pressure</li>
</ul>
<p><img class="emoji" draggable="false" alt="🔗" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f517.svg" data-marp-twemoji=""/> <a href="https://learn.microsoft.com/en-us/dotnet/fsharp/style-guide/conventions#performance">F# coding conventions / Performance</a></p>
<blockquote>
<p>Consider structs for small types with high allocation rates</p>
</blockquote>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="85" data-footer="F♯ Training • Types" data-paginate="true" data-class="chapter invert" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="chapter invert" data-marpit-pagination="85" style="--footer:F♯ Training • Types;--paginate:true;--class:chapter invert;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_diplome.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="8-1">8.</h1>
<h2 id="wrap-up-%F0%9F%8C%AF">Wrap up <img class="emoji" draggable="false" alt="🌯" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f32f.svg" data-marp-twemoji=""/></h2>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="86" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="86" style="--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_question.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="%F0%9F%95%B9%EF%B8%8F-quiz-wrap-up"><img class="emoji" draggable="false" alt="🕹️" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f579.svg" data-marp-twemoji=""/> Quiz wrap up</h1>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// Match types with concepts (1 to many)</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color1</span> <span class="hljs-operator">=</span> int <span class="hljs-operator">*</span> int <span class="hljs-operator">*</span> int
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color2</span> <span class="hljs-operator">=</span> Red <span class="hljs-operator">|</span> Green <span class="hljs-operator">|</span> Blue
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color3</span> <span class="hljs-operator">=</span> Red<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-operator">|</span> Green<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-operator">|</span> Blue<span class="hljs-operator">=</span><span class="hljs-number">3</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color4</span> <span class="hljs-operator">=</span> { Red<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Green<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Blue<span class="hljs-operator">:</span> <span class="hljs-type">int</span> }
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color5</span> <span class="hljs-operator">=</span> {<span class="hljs-operator">|</span> Red<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Green<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Blue<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">|</span>}
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color6</span> <span class="hljs-operator">=</span> Color <span class="hljs-keyword">of</span> Red<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">*</span> Green<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">*</span> Blue<span class="hljs-operator">:</span> <span class="hljs-type">int</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Color7</span> <span class="hljs-operator">=</span>
    <span class="hljs-operator">|</span> RGB <span class="hljs-keyword">of</span> {<span class="hljs-operator">|</span> Red<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Green<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Blue<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">|</span>}
    <span class="hljs-operator">|</span> HSL <span class="hljs-keyword">of</span> {<span class="hljs-operator">|</span> Hue<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Saturation<span class="hljs-operator">:</span> <span class="hljs-type">int</span>; Lightness<span class="hljs-operator">:</span> <span class="hljs-type">int</span> <span class="hljs-operator">|</span>}

<span class="hljs-comment">// A. Alias</span>
<span class="hljs-comment">// B. Enum</span>
<span class="hljs-comment">// C. Record</span>
<span class="hljs-comment">// D. Record anonyme</span>
<span class="hljs-comment">// E. Single-case union</span>
<span class="hljs-comment">// F. Union</span>
<span class="hljs-comment">// G. Union enum-like</span>
<span class="hljs-comment">// H. Tuple</span>
</code></pre>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="87" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="87" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="%F0%9F%8E%B2-quiz-wrap-up"><img class="emoji" draggable="false" alt="🎲" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f3b2.svg" data-marp-twemoji=""/> Quiz wrap up</h1>
<table>
<thead>
<tr>
<th>Types</th>
<th>Concepts</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>type Color1 = int * int * int</code></td>
<td><strong>H.</strong> Tuple + <strong>A.</strong> Alias</td>
</tr>
<tr>
<td><code>type Color2 = Red ∣ Green ∣ Blue</code></td>
<td><strong>G.</strong> Union enum-like</td>
</tr>
<tr>
<td><code>type Color3 = Red=1 ∣ Green=2 ∣ Blue=3</code></td>
<td><strong>B.</strong> Enum</td>
</tr>
<tr>
<td><code>type Color4 = { Red: int; Green: int… }</code></td>
<td><strong>C.</strong> Record</td>
</tr>
<tr>
<td><code>type Color5 = {∣ Red: int; Green: int… ∣}</code></td>
<td><strong>D.</strong> Anonymous Record + <strong>A.</strong> Alias</td>
</tr>
<tr>
<td><code>type Color6 = Color of Red: int * …</code></td>
<td><strong>E.</strong> Single-case union + <strong>H.</strong> Tuple</td>
</tr>
<tr>
<td><code>type Color7 = RGB of {∣…∣} ∣ HSL of {∣…∣}</code></td>
<td><strong>F.</strong> Union + <strong>D.</strong> Anonymous Record</td>
</tr>
</tbody>
</table>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="88" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="88" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="types-composition">Types Composition</h1>
<p>Creating new types?<br />
→ <img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/> Algebraic data types do not support inheritance<br />
→ <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> By composition, in <em>sum/product types</em><br />
→ <img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Extension of a <em>Record</em> into an anonymous <em>Record</em> with more fields</p>
<p>Combine 2 unions?<br />
→ <img class="emoji" draggable="false" alt="❌" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/274c.svg" data-marp-twemoji=""/> Not &quot;flattenable&quot; as in TypeScript ①<br />
→ <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/> New parent union type ②</p>
<pre is="marp-pre" data-auto-scaling="downscale-only"><code class="language-fsharp"><span class="hljs-comment">// French-suited cards</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Noir</span> <span class="hljs-operator">=</span> Pique <span class="hljs-operator">|</span> Trefle <span class="hljs-comment">// pikes or spades <img class="emoji" draggable="false" alt="♠" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2660.svg" data-marp-twemoji=""/> | clovers or clubs <img class="emoji" draggable="false" alt="♣" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2663.svg" data-marp-twemoji=""/></span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Rouge</span> <span class="hljs-operator">=</span> Coeur <span class="hljs-operator">|</span> Carreau <span class="hljs-comment">// hearts <img class="emoji" draggable="false" alt="♥" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2665.svg" data-marp-twemoji=""/> | tiles or diamonds <img class="emoji" draggable="false" alt="♦" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2666.svg" data-marp-twemoji=""/></span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">CouleurKo</span> <span class="hljs-operator">=</span> Noir <span class="hljs-operator">|</span> Rouge  <span class="hljs-comment">// (1) <img class="emoji" draggable="false" alt="⚠" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" data-marp-twemoji=""/> not the expected union of Pique | Trefle | Coeur | Carreau</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Couleur</span> <span class="hljs-operator">=</span> Noir <span class="hljs-keyword">of</span> Noir <span class="hljs-operator">|</span> Rouge <span class="hljs-keyword">of</span> Rouge <span class="hljs-comment">// (2) <img class="emoji" draggable="false" alt="✅" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2705.svg" data-marp-twemoji=""/></span>
<span class="hljs-keyword">let</span> c1 <span class="hljs-operator">=</span> Noir Pique <span class="hljs-comment">// Couleur</span>
</code></pre>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="89" data-footer="F♯ Training • Types" data-paginate="true" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" data-marpit-pagination="89" style="--footer:F♯ Training • Types;--paginate:true;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<p><img src="../themes/d-edge/pictos/SOAT_pictos_cocktail.png" alt="bg-right" style="height:300px;" /></p>
<h1 id="conclusion">Conclusion</h1>
<p>Lots of ways to model!</p>
<p><img class="emoji" draggable="false" alt="💡" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" data-marp-twemoji=""/> Opportunity for:</p>
<ul>
<li>Team discussions</li>
<li>Business domain encoding in types</li>
</ul>
<footer>F♯ Training • Types</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1280 720"><foreignObject width="1280" height="720"><section id="90" data-footer="F♯ Training • Types" data-paginate="true" data-class="end invert lead" data-theme="d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo" lang="en-US" class="end invert lead" data-marpit-pagination="90" style="--footer:F♯ Training • Types;--paginate:true;--class:end invert lead;--theme:d1emwy9co6qwmdotzw5vnajbjlg7cb1bu7mtgb0pdo;" data-marpit-pagination-total="90">
<h1 id="thanks-%F0%9F%99%8F">Thanks <img class="emoji" draggable="false" alt="🙏" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f64f.svg" data-marp-twemoji=""/></h1>
<footer>F♯ Training • Types</footer>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{container;containerSize;containerObserver;svg;svgComputedStyle;svgPreserveAspectRatio="xMinYMid meet";wrapper;wrapperSize;wrapperObserver;constructor(){super();const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=this.shadowRoot.querySelector(`div[${e}]`)??void 0;const t=this.svg;this.svg=this.wrapper?.querySelector(`svg[${i}]`)??void 0,this.svg!==t&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=this.svg?.querySelector(`span[${n}]`)??void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){let t=Math.ceil(this.containerSize?.width??0);const e=Math.ceil(this.containerSize?.height??0);void 0!==this.dataset.downscaleOnly&&(t=Math.max(t,this.wrapperSize?.width??0));const i=this.svg?.querySelector(":scope > foreignObject");if(i?.setAttribute("width",`${t}`),i?.setAttribute("height",`${e}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${t} ${e}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=t<=0||e<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const r=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this._shadow()}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_shadow(){if(!this.shadowRoot)try{this.attachShadow({mode:"open"})}catch(t){if(!(t instanceof Error&&"NotSupportedError"===t.name))throw t}return this.shadowRoot}_update(){const t=this._shadow();if(t){const e=i?`<style>:host { ${i} }</style>`:"";let n="<slot></slot>";const{autoScaling:s}=this.dataset;if(void 0!==s){n=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===s?"data-downscale-only":""}>${n}</marp-auto-scaling>`}t.innerHTML=e+n}}};let o;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),h=Symbol();const g=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[h]||(Object.defineProperty(window,h,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,r,o;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(o=null===(r=n.y)||void 0===r?void 0:r.baseVal.value)&&void 0!==o?o:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await g()}finally{s=!0}})();const r=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(r)};return r(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const w=Symbol(),b=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();(o??(o=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is"),o))&&a!==HTMLElement?i||customElements.define(s,r(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,r(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[w])return e[w];const i=v({target:e}),n=()=>{i(),delete e[w]},l=Object.assign(n,{cleanup:n,update:()=>b(e)});return Object.defineProperty(e,w,{configurable:!0,value:l}),l},y=document.currentScript;b(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><div class="bespoke-marp-note" data-index="0" tabindex="0"><p>Notes :
F# isn't just about functions; the powerful type system is another key ingredient. And as with functions, it's essential to understand the type system to be comfortable with the language.

In addition to the common .NET types, F# has other types that are very common in functional languages but not available in imperative languages like C# or Java.</p></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@4.1.2/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,n,r=(n||(n=1,t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),a={},i=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){a[e]=(a[e]||[]).filter((function(e){return e!==t}))},c=function(e,t){return(a[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},l=function(e,t){o[e]&&(n&&c("deactivate",i(n,t)),n=o[e],c("activate",i(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;c(e>0?"next":"prev",i(n,t))&&l(r,t)},u={off:s,on:function(e,t){return(a[e]||(a[e]=[])).push(t),s.bind(null,e,t)},fire:c,slide:function(e,t){if(!arguments.length)return o.indexOf(n);c("slide",i(o[e],t))&&l(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){c("destroy",i(n,e)),a={}}};return(t||[]).forEach((function(e){e(u)})),n||l(0),u}}),t),o=e(r);const a=document.body,i=(...e)=>history.replaceState(...e),s="",c="presenter",l="next",d=["",c,l],u="bespoke-marp-",f=`data-${u}`,m=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const a=e.toString();return`${t}//${n}${r}${a?"?":""}${a}${o}`},g=()=>a.dataset.bespokeView,p=e=>new URLSearchParams(location.search).get(e),v=(e,t={})=>{const n={location,setter:i,...t},r=new URLSearchParams(n.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?r.set(t,n):r.delete(t)}try{n.setter({...window.history.state??{}},"",m(r,n.location))}catch(e){console.error(e)}},h=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})(),y=e=>{try{return localStorage.getItem(e)}catch{return null}},b=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch{return!1}},w=e=>{try{return localStorage.removeItem(e),!0}catch{return!1}},x=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},k=e=>{e.parent.classList.add(`${u}parent`),e.slides.forEach((e=>e.classList.add(`${u}slide`))),e.on("activate",(t=>{const n=`${u}active`,r=t.slide,o=r.classList,a=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),x(e,!0)})),o.add(n),x(r,!1),a){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},$=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const a=t<r||t===r&&n<=o;e.setAttribute(`${f}fragment`,(a?"":"in")+"active");const i=`${f}current-fragment`;t===r&&n===o?e.setAttribute(i,"current"):e.removeAttribute(i)}))})),e.fragmentIndex=o;const a={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",a)};e.on("next",(({fragment:a=!0})=>{if(a){if(r(1))return o(t,n+1),!1;const a=t+1;e.fragments[a]&&o(a,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const a=e.fragments[t+1];a&&o(t+1,a.length-1)}})),e.on("prev",(({fragment:a=!0})=>{if(r(-1)&&a)return o(t,n-1),!1;const i=t-1;e.fragments[i]&&o(i,e.fragments[i].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},E=document,L=()=>!(!E.fullscreenEnabled&&!E.webkitFullscreenEnabled),S=()=>!(!E.fullscreenElement&&!E.webkitFullscreenElement),P=e=>{e.fullscreen=()=>{L()&&(async()=>{S()?(E.exitFullscreen||E.webkitExitFullscreen)?.call(E):((e=E.body)=>{(e.requestFullscreen||e.webkitRequestFullscreen)?.call(e)})()})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!L()||(e.fullscreen(),t.preventDefault())}))},_=`${u}inactive`,T=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let a;const i=()=>{a&&clearTimeout(a),a=setTimeout((()=>{r.add(_),o()}),e),r.contains(_)&&(r.remove(_),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,i);setTimeout(i,0)},I=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],M=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(I.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},O=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${f}load`,e?"":"hideable")}}))},A=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(a=>{let i=!1;const s=(e,t)=>{e&&(i=i||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),e?.parentElement&&s(e.parentElement,t)};if(0!==a.deltaX&&s(a.target,"X"),0!==a.deltaY&&s(a.target,"Y"),i)return;a.preventDefault();const c=Math.sqrt(a.deltaX**2+a.deltaY**2);if(void 0!==a.wheelDelta){if(void 0===a.webkitForce&&Math.abs(a.wheelDelta)<40)return;if(a.deltaMode===a.DOM_DELTA_PIXEL&&c<4)return}else if(a.deltaMode===a.DOM_DELTA_PIXEL&&c<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const l=Date.now()-o<e,d=c<=n;if(n=c,l||d)return;let u;(a.deltaX>0||a.deltaY>0)&&(u="next"),(a.deltaX<0||a.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},C=(e=`.${u}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${f}osc=${JSON.stringify(e)}]`).forEach(n)};return L()||n("fullscreen",(e=>e.style.display="none")),h||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?e?.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>x(t,!1))),e.on("marp-inactive",(()=>x(t,!0))),L()&&(e=>{for(const t of["","webkit"])E.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",L()&&S())))))}},D=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),a=Number.parseInt(n,10)+1;a>=e.fragments[o].length&&(o+=1,a=0),e.slide(o,{fragment:a})}}))};var N,B,q,K,j,F,V,U={exports:{}},X=(N||(N=1,U.exports=(B=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],q=function(e){return String(e).replace(/[&<>"']/g,(function(e){return"&"+K[e]+";"}))},K={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},j="dangerouslySetInnerHTML",F={className:"class",htmlFor:"for"},V={},function(e,t){var n=[],r="";t=t||{};for(var o=arguments.length;o-- >2;)n.push(arguments[o]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(var a in t)!1!==t[a]&&null!=t[a]&&a!==j&&(r+=" "+(F[a]?F[a]:q(a))+'="'+q(t[a])+'"');r+=">"}if(-1===B.indexOf(e)){if(t[j])r+=t[j].__html;else for(;n.length;){var i=n.pop();if(i)if(i.pop)for(var s=i.length;s--;)n.push(i[s]);else r+=!0===V[i]?i:q(i)}r+=e?"</"+e+">":""}return V[r]=!0,r})),U.exports),H=e(X);const R=({children:e})=>H(null,null,...e),W=`${u}presenter-`,J={container:`${W}container`,dragbar:`${W}dragbar-container`,next:`${W}next`,nextContainer:`${W}next-container`,noteContainer:`${W}note-container`,noteWrapper:`${W}note-wrapper`,noteButtons:`${W}note-buttons`,infoContainer:`${W}info-container`,infoPage:`${W}info-page`,infoPageText:`${W}info-page-text`,infoPagePrev:`${W}info-page-prev`,infoPageNext:`${W}info-page-next`,noteButtonsBigger:`${W}note-bigger`,noteButtonsSmaller:`${W}note-smaller`,infoTime:`${W}info-time`,infoTimer:`${W}info-timer`},Y=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=J.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",H(R,null,H("div",{class:J.nextContainer},H("iframe",{class:J.next,src:"?view=next"})),H("div",{class:J.dragbar}),H("div",{class:J.noteContainer},H("div",{class:J.noteWrapper}),H("div",{class:J.noteButtons},H("button",{class:J.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),H("button",{class:J.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),H("div",{class:J.infoContainer},H("div",{class:J.infoPage},H("button",{class:J.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),H("span",{class:J.infoPageText}),H("button",{class:J.infoPageNext,tabindex:"-1",title:"Next"},"Next")),H("time",{class:J.infoTime,title:"Current time"}),H("time",{class:J.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(J.dragbar).addEventListener("mousedown",(()=>{t=!0,r(J.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(J.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(J.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(J.nextContainer).addEventListener("click",(()=>e.next()));const n=r(J.next),o=(a=n,(e,t)=>a.contentWindow?.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin));var a;n.addEventListener("load",(()=>{r(J.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const i=document.querySelectorAll(".bespoke-marp-note");i.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(J.noteWrapper).appendChild(e)})),e.on("activate",(()=>i.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const c=e=>{s=Math.max(-5,s+e),r(J.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},l=()=>c(1),d=()=>c(-1),u=r(J.noteButtonsBigger),f=r(J.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),l()})),f.addEventListener("click",(()=>{f.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&l(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(J.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const m=r(J.infoPagePrev),g=r(J.infoPageNext);m.addEventListener("click",(t=>{m.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),a=t(n/1e3/60%60),i=t(n/36e5%24);r(J.infoTime).textContent=e.toLocaleTimeString(),r(J.infoTimer).textContent=`${i}:${a}:${o}`};v(),setInterval(v,250),r(J.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},z=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:G},presenterUrl:{enumerable:!0,get:Q}}),h&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function G(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,W+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function Q(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),m(e)}const Z=e=>{const t=g();return t===l&&e.appendChild(document.createElement("span")),{[s]:z,[c]:Y,[l]:D}[t]},ee=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},te=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},ne=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?te(p("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:a,slides:i}=e,s=o(0,r(t,i.length-1)),c=o(0,r(n||0,a[s].length-1));s===e.slide()&&c===e.fragmentIndex||e.slide(s,{fragment:c})})((()=>{if(location.hash){const[t]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(t))return(te(t)??1)-1;const r=document.getElementById(t)||document.querySelector(`a[name="${CSS.escape(t)}"]`);if(r){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(r)){const t=e.fragments?.[o],a=r.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||v({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),v({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},re=(e={})=>{const t=e.key||window.history.state?.marpBespokeSyncKey||Math.random().toString(36).slice(2),n=`bespoke-marp-sync-${t}`;var r;r={marpBespokeSyncKey:t},v({},{setter:(e,...t)=>i({...e,...r},...t)});const o=()=>{const e=y(n);return e?JSON.parse(e):Object.create(null)},a=e=>{const t=o(),r={...t,...e(t)};return b(n,JSON.stringify(r)),r},s=()=>{window.removeEventListener("pageshow",s),a((e=>({reference:(e.reference||0)+1})))};return e=>{s(),Object.defineProperty(e,"syncKey",{value:t,enumerable:!0});let r=!0;setTimeout((()=>{e.on("fragment",(e=>{r&&a((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(t=>{if(t.key===n&&t.oldValue&&t.newValue){const n=JSON.parse(t.oldValue),o=JSON.parse(t.newValue);if(n.index!==o.index||n.fragmentIndex!==o.fragmentIndex)try{r=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{r=!0}}}));const i=()=>{const{reference:e}=o();void 0===e||e<=1?w(n):a((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",s),i()})),e.on("destroy",i)}},{PI:oe,abs:ae,sqrt:ie,atan2:se}=Math,ce={passive:!0},le=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,a=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?a(e[0]):void 0}),ce),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=a(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ie(ae(n)**2+ae(o)**2),r.radian=se(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+oe)%(2*oe)-oe;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),ce)},de=new Map;de.clear(),de.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ue={both:"",outgoing:"outgoing-",incoming:"incoming-"},fe={forward:"",backward:"-backward"},me=e=>`--marp-bespoke-transition-animation-${e}`,ge=e=>`--marp-transition-${e}`,pe=me("name"),ve=me("duration"),he=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const a=getComputedStyle(r).getPropertyValue(ge("duration"));a&&(n.defaultDuration=a),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),ye=async e=>de.has(e)?de.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ue))for(const[a,i]of Object.entries(fe)){const s=`marp-${o}transition${i}-${e}`;n.push(he(s).then((e=>{t[a]=t[a]||{},t[a][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(de.set(e,t),t))),be=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),we=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[pe]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[me("direction")]="reverse"),e}})();return!o&&n?we(e,{type:t,backward:!1}):o||{[pe]:"__bespoke_marp_transition_no_animation__"}},xe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch{}},ke="_tSId",$e="_tA",Ee="bespoke-marp-transition-warming-up",Le=window.matchMedia("(prefers-reduced-motion: reduce)"),Se="__bespoke_marp_transition_reduced_outgoing__",Pe="__bespoke_marp_transition_reduced_incoming__",_e={forward:{both:void 0,incoming:{name:Pe},outgoing:{name:Se}},backward:{both:void 0,incoming:{name:Pe},outgoing:{name:Se}}},Te=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>ye(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=xe(e);return[t?.name,t?.builtinFallback?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const r=(n,{back:r,cond:o})=>a=>{const i=t();if(i)return!!a[$e]||!("object"!=typeof i||(i.skipTransition(),!a.forSync));if(!o(a))return!0;const s=e.slides[e.slide()],c=()=>a.back??r,l="data-transition"+(c()?"-back":""),d=s.querySelector(`section[${l}]`);if(!d)return!0;const u=xe(d.getAttribute(l)??void 0);return!u||((async(e,{builtinFallback:t=!0}={})=>{let n=await ye(e);if(be(n)){if(!t)return;return n=await ye(`__builtin__${e}`),be(n)?void 0:n}return n})(u.name,{builtinFallback:u.builtinFallback}).then((e=>{if(!e){t(!0);try{n(a)}finally{t(!1)}return}let r=e;Le.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=_e);const o=document.getElementById(ke);o&&o.remove();const i=document.createElement("style");i.id=ke,document.head.appendChild(i),((e,t)=>{const n=[`:root{${ge("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{const n=e[t].both?.defaultDuration||e[t].outgoing?.defaultDuration||e[t].incoming?.defaultDuration;return"forward"===t?n:n||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${ve}:${o};}`);const a=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::view-transition-old(root){${a(we(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${a(we(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:u.duration}).forEach((e=>i.sheet?.insertRule(e)));const s=document.documentElement.classList;s.add(Ee);let l=!1;const d=()=>{l||(n(a),l=!0,s.remove(Ee))},f=()=>{t(!1),i.remove(),s.remove(Ee)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(f)}catch(e){console.error(e),d(),f()}})),!1)};e.on("prev",r((t=>e.prev({...t,[$e]:!0})),{back:!0,cond:e=>e.index>0&&!((e.fragment??1)&&n.fragmentIndex>0)})),e.on("next",r((t=>e.next({...t,[$e]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",r((t=>e.slide(t.index,{...t,[$e]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let Ie;const Me=()=>(void 0===Ie&&(Ie="wakeLock"in navigator&&navigator.wakeLock),Ie),Oe=async()=>{const e=Me();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Ae=async()=>{if(!Me())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Oe()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Oe(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=p("view");a.dataset.bespokeView=e===l||e===c?e:""})();const t=(e=>{const t=p(e);return v({[e]:void 0}),t})("sync")||void 0;o.from(e,((...e)=>{const t=d.findIndex((e=>g()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],re({key:t})],[[1,1,1],Z(e)],[[1,1,0],M],[[1,1,1],k],[[1,0,0],T()],[[1,1,1],O],[[1,1,1],ne({history:!1})],[[1,1,0],A()],[[1,1,0],P],[[1,0,0],ee],[[1,1,0],le()],[[1,0,0],C()],[[1,0,0],Te],[[1,1,1],$],[[1,1,0],Ae]))})()}();</script></body></html>